"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkearthquest"] = self["webpackChunkearthquest"] || []).push([["main"],{

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/css/canvas.scss":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/css/canvas.scss ***!
  \**********************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body {\\n  margin: 0px;\\n  padding: 0px;\\n  overflow: hidden;\\n}\\n\\n.canvas-container {\\n  width: 100%;\\n  height: 100vh;\\n  margin: 0px;\\n}\\n\\n.canvas {\\n  background-color: lightgray;\\n  height: 100vh;\\n  margin: auto;\\n  display: flex;\\n}\\n\\n.background {\\n  position: absolute;\\n  top: 200vh;\\n}\\n\\n.hidden {\\n  display: none !important;\\n}\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://earthquest/./src/css/canvas.scss?./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n//# sourceURL=webpack://earthquest/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/noSourceMaps.js":
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \**************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://earthquest/./node_modules/css-loader/dist/runtime/noSourceMaps.js?");

/***/ }),

/***/ "./src/css/canvas.scss":
/*!*****************************!*\
  !*** ./src/css/canvas.scss ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_canvas_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./canvas.scss */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/css/canvas.scss\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_canvas_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_canvas_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_canvas_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_canvas_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://earthquest/./src/css/canvas.scss?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

eval("\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://earthquest/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

eval("\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack://earthquest/./node_modules/style-loader/dist/runtime/insertBySelector.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack://earthquest/./node_modules/style-loader/dist/runtime/insertStyleElement.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack://earthquest/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;\n\n//# sourceURL=webpack://earthquest/./node_modules/style-loader/dist/runtime/styleDomAPI.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack://earthquest/./node_modules/style-loader/dist/runtime/styleTagTransform.js?");

/***/ }),

/***/ "./src/core/Component.ts":
/*!*******************************!*\
  !*** ./src/core/Component.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Component = void 0;\r\n/**\r\n * A component is something that is part of the game engine and has a reference\r\n * to the game engine and all the subsystems like text managers, collision and raise events.\r\n */\r\nclass Component {\r\n    /**\r\n     * Give components easier access to gl\r\n     */\r\n    get gl() {\r\n        return this.eng.gl;\r\n    }\r\n    constructor(eng) {\r\n        this.eng = eng;\r\n    }\r\n    /**\r\n     * Called only once after all systems are created\r\n     * Each derived calls can have a different set of parameters\r\n     */\r\n    /*\r\n    async initialize(...): Promise<void> {\r\n  \r\n    }\r\n    */\r\n    /**\r\n     * Loads a new level\r\n     * @param level\r\n     */\r\n    async loadLevel(level) { }\r\n    /**\r\n     * When the window is resized\r\n     */\r\n    resize(width, height) { }\r\n    /**\r\n     * Called every frame\r\n     * @param dt - delta time in ms\r\n     */\r\n    update(dt) { }\r\n    /**\r\n     * When a scene is closed\r\n     */\r\n    closeLevel() { }\r\n    /**\r\n     * Called once to destroy everything\r\n     */\r\n    dispose() { }\r\n}\r\nexports.Component = Component;\r\n\n\n//# sourceURL=webpack://earthquest/./src/core/Component.ts?");

/***/ }),

/***/ "./src/core/Engine.ts":
/*!****************************!*\
  !*** ./src/core/Engine.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Engine = void 0;\r\nconst Scene_1 = __webpack_require__(/*! ./Scene */ \"./src/core/Scene.ts\");\r\n/**\r\n * This is the game engine class that ties all the sub systems together. Including\r\n * the scene, sound manager, and game play, etc.\r\n */\r\nclass Engine {\r\n    get canvasGL() {\r\n        return this._canvasGL;\r\n    }\r\n    get height() {\r\n        return this.canvasGL.height;\r\n    }\r\n    get width() {\r\n        return this.canvasGL.width;\r\n    }\r\n    /**\r\n     * the render context\r\n     */\r\n    get gl() {\r\n        return this._glContext;\r\n    }\r\n    /**\r\n     * Used to create all instances of systems\r\n     */\r\n    constructor() {\r\n        this.scene = new Scene_1.Scene(this);\r\n    }\r\n    /**\r\n     * Creates the canvas element and saves the gl context from it.\r\n     * @returns\r\n     */\r\n    createCanvas() {\r\n        const container = document.createElement('div');\r\n        container.classList.add('canvas-container');\r\n        this._canvasGL = document.createElement('canvas');\r\n        this._canvasGL.width = 800;\r\n        this._canvasGL.height = 600;\r\n        this._canvasGL.classList.add('this._canvas');\r\n        container.append(this._canvasGL);\r\n        window.addEventListener('resize', (e) => {\r\n            this.resize(this._canvasGL.width, this._canvasGL.height);\r\n        });\r\n        if (false) {}\r\n        else {\r\n            this._glContext = this._canvasGL.getContext('webgl2');\r\n        }\r\n        // Only continue if WebGL is available and working\r\n        if (this.gl === null) {\r\n            console.error('Unable to initialize WebGL2. Your browser or machine may not support it.');\r\n        }\r\n        return container;\r\n    }\r\n    /**\r\n     * Initializes the engine with all its systems and the scene\r\n     * @param rootElement\r\n     */\r\n    async initialize(rootElement) {\r\n        // add canvas element to root\r\n        rootElement.append(this.createCanvas());\r\n        // Browsers copy pixels from the loaded image in top-to-bottom order —\r\n        // from the top-left corner; but WebGL wants the pixels in bottom-to-top\r\n        // order — starting from the bottom-left corner. So in order to prevent\r\n        // the resulting image texture from having the wrong orientation when\r\n        // rendered, we need to make the following call, to cause the pixels to\r\n        // be flipped into the bottom-to-top order that WebGL expects.\r\n        // See jameshfisher.com/2020/10/22/why-is-my-webgl-texture-upside-down\r\n        // NOTE, this must be done before any textures are loaded\r\n        this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, true);\r\n        // some gl setup\r\n        this.gl.enable(this.gl.CULL_FACE);\r\n        this.gl.cullFace(this.gl.BACK);\r\n        this.gl.enable(this.gl.BLEND);\r\n        this.gl.clearColor(0.3, 0.3, 0.3, 1.0); // Clear to black, fully opaque\r\n        this.gl.clearDepth(1.0); // Clear everything\r\n        this.gl.blendFuncSeparate(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA, this.gl.ONE, this.gl.ZERO);\r\n        this.gl.blendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\r\n        this.gl.enable(this.gl.DEPTH_TEST); // Enable depth testing\r\n        this.gl.depthFunc(this.gl.LEQUAL); // Near things obscure far things\r\n        // initialize all systems\r\n        await this.scene.initialize();\r\n    }\r\n    update(dt) {\r\n        this.scene.update(dt);\r\n    }\r\n    resize(width, height) {\r\n        this.scene.resize(width, height);\r\n    }\r\n    dispose() {\r\n        this.scene.dispose();\r\n    }\r\n    logGlError(error, functionName, args) {\r\n        console.error('GL error: ' +\r\n            error +\r\n            ' in gl.' +\r\n            functionName +\r\n            '(' +\r\n            // @ts-ignore\r\n            WebGLDebugUtils.glFunctionArgsToString(functionName, args) +\r\n            ')');\r\n    }\r\n    logGLCall(functionName, args) {\r\n        /*\r\n        console.log(\r\n          'gl.' +\r\n            functionName +\r\n            '(' +\r\n            // @ts-ignore\r\n            (WebGLDebugUtils as any).glFunctionArgsToString(functionName, args) +\r\n            ')'\r\n        );\r\n        */\r\n    }\r\n}\r\nexports.Engine = Engine;\r\n\n\n//# sourceURL=webpack://earthquest/./src/core/Engine.ts?");

/***/ }),

/***/ "./src/core/Scene.ts":
/*!***************************!*\
  !*** ./src/core/Scene.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Scene = void 0;\r\nconst Texture_1 = __webpack_require__(/*! ../graphics/Texture */ \"./src/graphics/Texture.ts\");\r\nconst Component_1 = __webpack_require__(/*! ../core/Component */ \"./src/core/Component.ts\");\r\nconst GlBuffer_1 = __webpack_require__(/*! ../graphics/GlBuffer */ \"./src/graphics/GlBuffer.ts\");\r\nconst SpritePerspectiveShader_1 = __webpack_require__(/*! ../shaders/SpritePerspectiveShader */ \"./src/shaders/SpritePerspectiveShader.ts\");\r\nconst QuadGeometry_1 = __webpack_require__(/*! ../graphics/QuadGeometry */ \"./src/graphics/QuadGeometry.ts\");\r\nconst mat4_1 = __importDefault(__webpack_require__(/*! ../math/mat4 */ \"./src/math/mat4.ts\"));\r\nconst mat3_1 = __importDefault(__webpack_require__(/*! ../math/mat3 */ \"./src/math/mat3.ts\"));\r\n/**\r\n * The main scene for walking around in the world. The player can\r\n * walk around talk to NPC pick up items and fight enemies.\r\n *\r\n */\r\nclass Scene extends Component_1.Component {\r\n    get spriteSheetTexture() {\r\n        return this._spriteSheetTexture;\r\n    }\r\n    get type() {\r\n        return typeof this;\r\n    }\r\n    async initialize() {\r\n        this._spriteSheetTexture = new Texture_1.Texture(this.gl);\r\n        this._buffer = new GlBuffer_1.GlBuffer(this.gl);\r\n        this._shader = new SpritePerspectiveShader_1.SpritePerspectiveShader(this.gl, 'scene');\r\n        // get the texture\r\n        await this.spriteSheetTexture.loadImage('./assets/tiles/OnettMap.png');\r\n        // setup the shader\r\n        this._shader.setSpriteSheet(this.spriteSheetTexture);\r\n        // create a quad\r\n        const geo = QuadGeometry_1.QuadGeometry.CreateQuad([\r\n            { width: 5, height: 5, transform: mat4_1.default.identity, uvTransform: mat3_1.default.identity },\r\n        ]);\r\n        // set the openGL buffers\r\n        this._buffer.setBuffers(geo);\r\n    }\r\n    async loadLevel(level) { }\r\n    /**\r\n     * Called for each frame.\r\n     * @param {float} dt delta time from the last frame\r\n     */\r\n    update(dt) {\r\n        // Clear the canvas before we start drawing on it.\r\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\r\n        this._shader.enable();\r\n        this._buffer.enable();\r\n        const vertexCount = this._buffer.indexCount;\r\n        const type = this.gl.UNSIGNED_SHORT;\r\n        const offset = 0;\r\n        this.gl.drawElements(this.gl.TRIANGLES, vertexCount, type, offset);\r\n    }\r\n}\r\nexports.Scene = Scene;\r\n\n\n//# sourceURL=webpack://earthquest/./src/core/Scene.ts?");

/***/ }),

/***/ "./src/graphics/GlBuffer.ts":
/*!**********************************!*\
  !*** ./src/graphics/GlBuffer.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.GlBuffer = void 0;\r\n/**\r\n * Creates and manages opengl vertex array buffer and the vertex/index buffers that go with it.\r\n */\r\nclass GlBuffer {\r\n    /** were the buffers created */\r\n    get buffersCreated() {\r\n        return this.vertArrayBuffer != 0;\r\n    }\r\n    /**\r\n     * Constructor\r\n     * @param {WebGL2RenderingContext} gl\r\n     */\r\n    constructor(gl) {\r\n        this.gl = gl;\r\n        this.vertBuffer = 0;\r\n        this.indexBuffer = 0;\r\n        this.indexCount = 0;\r\n        this.vertArrayBuffer = 0;\r\n    }\r\n    /**\r\n     * Creates the buffers\r\n     */\r\n    createBuffer() {\r\n        this.dispose();\r\n        // create vert array buffer\r\n        this.vertArrayBuffer = this.gl.createVertexArray();\r\n        // position buffer\r\n        this.vertBuffer = this.gl.createBuffer();\r\n        // index buffer\r\n        this.indexBuffer = this.gl.createBuffer();\r\n    }\r\n    /**\r\n     * Create the buffer\r\n     * @param quads A array of quads that will be added to this buffer\r\n     * @param isStatic Is this buffer static\r\n     * @returns\r\n     */\r\n    setBuffers(geo, isStatic = true, bufferIndex = 0) {\r\n        const { verts, indices } = geo;\r\n        // check if we have buffer\r\n        if (!this.vertBuffer || !this.indexBuffer) {\r\n            this.createBuffer();\r\n        }\r\n        // reset counters\r\n        this.indexCount = indices.length;\r\n        // bind the array buffer\r\n        this.gl.bindVertexArray(this.vertArrayBuffer);\r\n        // Create a buffer for positions.\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertBuffer);\r\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, verts, isStatic ? this.gl.STATIC_DRAW : this.gl.DYNAMIC_DRAW, bufferIndex, verts.length);\r\n        // in order for this to work the vertex shader will\r\n        // need to have position\r\n        //  vec3 aPos;\r\n        //  vec2 aTex;\r\n        //\r\n        const positionAttribute = 0;\r\n        const textureAttribute = 1;\r\n        // Tell WebGL how to pull out the positions from the position\r\n        // buffer into the vertexPosition attribute\r\n        {\r\n            const numComponents = 3; // position x, y, z\r\n            const type = this.gl.FLOAT;\r\n            const normalize = false;\r\n            const stride = 5 * 4; // pos(x,y,x) + tex(u,v) * 4 byte float\r\n            const offset = 0;\r\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertBuffer);\r\n            this.gl.vertexAttribPointer(positionAttribute, numComponents, type, normalize, stride, offset);\r\n            this.gl.enableVertexAttribArray(positionAttribute);\r\n        }\r\n        // Tell WebGL how to pull out the texture coordinates from\r\n        // the texture coordinate buffer into the textureCoord attribute.\r\n        {\r\n            const numComponents = 2;\r\n            const type = this.gl.FLOAT;\r\n            const normalize = false;\r\n            const stride = 5 * 4; // pos(x,y,x) + tex(u,v) * 4 byte float\r\n            const offset = 3 * 4; // start after the position\r\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertBuffer);\r\n            this.gl.vertexAttribPointer(textureAttribute, numComponents, type, normalize, stride, offset);\r\n            this.gl.enableVertexAttribArray(textureAttribute);\r\n        }\r\n        // index buffer\r\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\r\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, indices, isStatic ? this.gl.STATIC_DRAW : this.gl.DYNAMIC_DRAW, bufferIndex, this.indexCount);\r\n    }\r\n    /**\r\n     * Enable vertex attributes and element buffer\r\n     */\r\n    enable() {\r\n        if (!this.buffersCreated) {\r\n            console.error('buffers were not created!');\r\n        }\r\n        else {\r\n            // the vertex and index buffer are grouped with this so we only need\r\n            // to enable this array buffer\r\n            this.gl.bindVertexArray(this.vertArrayBuffer);\r\n        }\r\n    }\r\n    /**\r\n     * Clean up buffer\r\n     */\r\n    dispose() {\r\n        if (this.vertBuffer) {\r\n            this.gl.deleteBuffer(this.vertBuffer);\r\n            this.vertBuffer = 0;\r\n        }\r\n        if (this.indexBuffer) {\r\n            this.gl.deleteBuffer(this.indexBuffer);\r\n            this.indexBuffer = 0;\r\n        }\r\n        if (this.vertArrayBuffer) {\r\n            this.gl.deleteVertexArray(this.vertArrayBuffer);\r\n        }\r\n    }\r\n}\r\nexports.GlBuffer = GlBuffer;\r\n\n\n//# sourceURL=webpack://earthquest/./src/graphics/GlBuffer.ts?");

/***/ }),

/***/ "./src/graphics/QuadGeometry.ts":
/*!**************************************!*\
  !*** ./src/graphics/QuadGeometry.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.QuadGeometry = void 0;\r\nconst vec2_1 = __importDefault(__webpack_require__(/*! ../math/vec2 */ \"./src/math/vec2.ts\"));\r\nconst vec3_1 = __importDefault(__webpack_require__(/*! ../math/vec3 */ \"./src/math/vec3.ts\"));\r\nclass QuadGeometry {\r\n    /**\r\n     * Creates a quad center at the origin with the given width and height on the x,y plane.\r\n     * @param quads\r\n     * @returns\r\n     */\r\n    static CreateQuad(quads) {\r\n        const verts = new Float32Array(quads.length * 5 * 4);\r\n        const indices = new Uint16Array(quads.length * 6);\r\n        //               Building a quad\r\n        //\r\n        //    Pos[-1, 1]                Texture [0,1]\r\n        //   p0---------p1 (max)      p0 ---------p1 (max)\r\n        //   |        / |              |        / |\r\n        //   |      /   |              |      /   |\r\n        //   |    /     |              |    /     |\r\n        //   |  /       |              |  /       |\r\n        //   p3---------p2             p3---------p2\r\n        //  (min)                      (min)\r\n        //\r\n        let vertCount = 0;\r\n        let vertIndex = 0;\r\n        let indexIndex = 0;\r\n        const p0 = new vec3_1.default();\r\n        const p1 = new vec3_1.default();\r\n        const p2 = new vec3_1.default();\r\n        const p3 = new vec3_1.default();\r\n        const t0 = new vec2_1.default();\r\n        const t1 = new vec2_1.default();\r\n        const t2 = new vec2_1.default();\r\n        const t3 = new vec2_1.default();\r\n        for (let quad of quads) {\r\n            p0.x = -quad.width / 2;\r\n            p0.y = quad.height / 2;\r\n            p0.z = 0;\r\n            t0.x = 0;\r\n            t0.y = 1;\r\n            p1.x = quad.width / 2;\r\n            p1.y = quad.height / 2;\r\n            p1.z = 0;\r\n            t1.x = 1;\r\n            t1.y = 1;\r\n            p2.x = quad.width / 2;\r\n            p2.y = -quad.height / 2;\r\n            p2.z = 0;\r\n            t2.x = 1;\r\n            t2.y = 0;\r\n            p3.x = -quad.width / 2;\r\n            p3.y = -quad.height / 2;\r\n            p3.z = 0;\r\n            t3.x = 0;\r\n            t3.y = 0;\r\n            verts[vertIndex++] = p0.x;\r\n            verts[vertIndex++] = p0.y;\r\n            verts[vertIndex++] = p0.z;\r\n            verts[vertIndex++] = t0.x;\r\n            verts[vertIndex++] = t0.y;\r\n            verts[vertIndex++] = p1.x;\r\n            verts[vertIndex++] = p1.y;\r\n            verts[vertIndex++] = p1.z;\r\n            verts[vertIndex++] = t1.x;\r\n            verts[vertIndex++] = t1.y;\r\n            verts[vertIndex++] = p2.x;\r\n            verts[vertIndex++] = p2.y;\r\n            verts[vertIndex++] = p2.z;\r\n            verts[vertIndex++] = t2.x;\r\n            verts[vertIndex++] = t2.y;\r\n            verts[vertIndex++] = p3.x;\r\n            verts[vertIndex++] = p3.y;\r\n            verts[vertIndex++] = p3.z;\r\n            verts[vertIndex++] = t3.x;\r\n            verts[vertIndex++] = t3.y;\r\n            indices[indexIndex++] = vertCount + 0;\r\n            indices[indexIndex++] = vertCount + 1;\r\n            indices[indexIndex++] = vertCount + 3;\r\n            indices[indexIndex++] = vertCount + 1;\r\n            indices[indexIndex++] = vertCount + 2;\r\n            indices[indexIndex++] = vertCount + 3;\r\n            vertCount += 4;\r\n        }\r\n        const geo = { verts, indices };\r\n        return geo;\r\n    }\r\n}\r\nexports.QuadGeometry = QuadGeometry;\r\n\n\n//# sourceURL=webpack://earthquest/./src/graphics/QuadGeometry.ts?");

/***/ }),

/***/ "./src/graphics/ShaderController.ts":
/*!******************************************!*\
  !*** ./src/graphics/ShaderController.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.ShaderController = void 0;\r\n/**\r\n * Manages one shader program\r\n */\r\nclass ShaderController {\r\n    /**\r\n     * Creates the shader controller\r\n     * @param {WebGL2RenderingContext} gl GL Context\r\n     * @param {string} shaderName The name of the shader. This is just a way to id different shader for debugging\r\n     */\r\n    constructor(gl, shaderName) {\r\n        this.gl = gl;\r\n        this.shaderName = shaderName;\r\n    }\r\n    /**\r\n     * Initialize a shader program, so WebGL knows how to draw our data\r\n     * @param {*} vsSource\r\n     * @param {*} fsSource\r\n     * @returns\r\n     */\r\n    initShaderProgram(vsSource, fsSource) {\r\n        const vertexShader = this._loadShader(this.gl.VERTEX_SHADER, vsSource);\r\n        const fragmentShader = this._loadShader(this.gl.FRAGMENT_SHADER, fsSource);\r\n        // Create the shader program\r\n        this.shaderProgram = this.gl.createProgram();\r\n        this.gl.attachShader(this.shaderProgram, vertexShader);\r\n        this.gl.attachShader(this.shaderProgram, fragmentShader);\r\n        // set the attribute locations\r\n        // not these must exist in the shader so that\r\n        // the buffer maps to the correct locations.\r\n        this.gl.bindAttribLocation(this.shaderProgram, 0, 'aPos');\r\n        this.gl.bindAttribLocation(this.shaderProgram, 1, 'aTex');\r\n        // link the program\r\n        this.gl.linkProgram(this.shaderProgram);\r\n        // needed for get program parameter\r\n        this.gl.useProgram(this.shaderProgram);\r\n        // If creating the shader program failed, alert\r\n        if (!this.gl.getProgramParameter(this.shaderProgram, this.gl.LINK_STATUS)) {\r\n            console.error(`Unable to initialize the shader program: ${this.gl.getProgramInfoLog(this.shaderProgram)}`);\r\n        }\r\n    }\r\n    /**\r\n     * Get a shader attribute location\r\n     * @param {string} name Name of the attribute\r\n     * @return {number} The attribute location\r\n     */\r\n    getAttribute(name) {\r\n        this.gl.useProgram(this.shaderProgram);\r\n        const loc = this.gl.getAttribLocation(this.shaderProgram, name);\r\n        if (loc === null) {\r\n            console.error('can not find attribute: ' + name + ' in shader ' + this.shaderName);\r\n        }\r\n        return loc;\r\n    }\r\n    /**\r\n     * Get a shader attribute location\r\n     * @param {string} name Name of the attribute\r\n     * @return {number} The attribute location\r\n     */\r\n    getUniform(name) {\r\n        this.gl.useProgram(this.shaderProgram);\r\n        const loc = this.gl.getUniformLocation(this.shaderProgram, name);\r\n        if (loc === null) {\r\n            console.error('can not find uniform: ' + name + ' in shader ' + this.shaderName);\r\n        }\r\n        return loc;\r\n    }\r\n    /**\r\n     * Sets a uniform for a vec4\r\n     * @param loc\r\n     * @param value\r\n     */\r\n    setVec4(loc, value) {\r\n        this.gl.uniform4f(loc, value.x, value.y, value.z, value.w);\r\n    }\r\n    /**\r\n     * Set the mat 4\r\n     * @param loc\r\n     * @param value\r\n     */\r\n    setMat4(loc, value) {\r\n        this.gl.uniformMatrix4fv(loc, false, value.getValues());\r\n    }\r\n    /**\r\n     * Sets a uniform for a vec3\r\n     * @param loc\r\n     * @param value\r\n     */\r\n    setVec3(loc, value) {\r\n        this.gl.uniform3f(loc, value.x, value.y, value.z);\r\n    }\r\n    /**\r\n     * Enable the shader\r\n     */\r\n    enable() {\r\n        // Tell WebGL to use our program when drawing\r\n        this.gl.useProgram(this.shaderProgram);\r\n    }\r\n    /**\r\n     * creates a shader of the given type, uploads the source and\r\n     * compiles it.\r\n     * @param {*} gl\r\n     * @param {*} type\r\n     * @param {*} source\r\n     * @returns\r\n     */\r\n    _loadShader(type, source) {\r\n        const shader = this.gl.createShader(type);\r\n        // Send the source to the shader object\r\n        this.gl.shaderSource(shader, source);\r\n        // Compile the shader program\r\n        this.gl.compileShader(shader);\r\n        // See if it compiled successfully\r\n        if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\r\n            const typeString = type == this.gl.VERTEX_SHADER ? 'vertex' : 'fragment';\r\n            console.error(`An error occurred compiling the ${typeString} shaders in ${this.shaderName}: ${this.gl.getShaderInfoLog(shader)}`);\r\n            this.gl.deleteShader(shader);\r\n            return null;\r\n        }\r\n        return shader;\r\n    }\r\n    dispose() {\r\n        this.gl.deleteProgram(this.shaderProgram);\r\n        this.shaderProgram = 0;\r\n    }\r\n}\r\nexports.ShaderController = ShaderController;\r\n\n\n//# sourceURL=webpack://earthquest/./src/graphics/ShaderController.ts?");

/***/ }),

/***/ "./src/graphics/Texture.ts":
/*!*********************************!*\
  !*** ./src/graphics/Texture.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Texture = void 0;\r\n/**\r\n * OpenGL texture\r\n */\r\nclass Texture {\r\n    get width() {\r\n        return this.width;\r\n    }\r\n    get heigh() {\r\n        return this._height;\r\n    }\r\n    constructor(gl) {\r\n        this.gl = gl;\r\n        this.glTexture = 0;\r\n    }\r\n    /**\r\n     * Enable this texture, activate the texture and set the uniform for the shader\r\n     */\r\n    enable(uniformIndex, slot = 0, activeTexture = this.gl.TEXTURE0) {\r\n        // Tell WebGL we want to affect texture unit\r\n        this.gl.activeTexture(activeTexture);\r\n        // Bind the texture to texture unit 0\r\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.glTexture);\r\n        // Tell the shader we bound the texture to texture unit\r\n        this.gl.uniform1i(uniformIndex, slot);\r\n    }\r\n    /**\r\n     * Set the image to a single pixel until the correct image can be loaded\r\n     */\r\n    initializePixel() {\r\n        this.glTexture = this.gl.createTexture();\r\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.glTexture);\r\n        // Because images have to be download over the internet\r\n        // they might take a moment until they are ready.\r\n        // Until then put a single pixel in the texture so we can\r\n        // use it immediately. When the image has finished downloading\r\n        // we'll update the texture with the contents of the image.\r\n        this.level = 0;\r\n        this.internalFormat = this.gl.RGBA;\r\n        this._width = 1;\r\n        this._height = 1;\r\n        this.border = 0;\r\n        this.srcFormat = this.gl.RGBA;\r\n        this.srcType = this.gl.UNSIGNED_BYTE;\r\n        const pixel = new Uint8Array([0, 0, 255, 255]); // opaque blue\r\n        this.gl.texImage2D(this.gl.TEXTURE_2D, this.level, this.internalFormat, this._width, this._height, this.border, this.srcFormat, this.srcType, pixel);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.MIRRORED_REPEAT);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.MIRRORED_REPEAT);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\r\n    }\r\n    /**\r\n     * Updates the texture with an already loaded image\r\n     * @param image\r\n     */\r\n    updateTexture(image) {\r\n        if (this.glTexture == 0) {\r\n            this.initializePixel();\r\n        }\r\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.glTexture);\r\n        this.gl.texImage2D(this.gl.TEXTURE_2D, this.level, this.internalFormat, this.srcFormat, this.srcType, image);\r\n        this.gl.generateMipmap(this.gl.TEXTURE_2D);\r\n    }\r\n    /**\r\n     * load an image from a path\r\n     * @param imagePath\r\n     * @returns\r\n     */\r\n    async loadImage(imagePath) {\r\n        if (this.glTexture == 0) {\r\n            this.initializePixel();\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            const image = new Image();\r\n            image.onload = () => {\r\n                this._width = image.width;\r\n                this._height = image.height;\r\n                this.updateTexture(image);\r\n                return resolve(image);\r\n            };\r\n            image.onerror = (event) => {\r\n                console.error('error loading ' + imagePath);\r\n                return reject();\r\n            };\r\n            image.src = imagePath;\r\n        });\r\n    }\r\n    dispose() {\r\n        this.gl.deleteTexture(this.glTexture);\r\n        this.glTexture = null;\r\n    }\r\n    isPowerOf2(value) {\r\n        return (value & (value - 1)) == 0;\r\n    }\r\n}\r\nexports.Texture = Texture;\r\n\n\n//# sourceURL=webpack://earthquest/./src/graphics/Texture.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst Engine_1 = __webpack_require__(/*! ./core/Engine */ \"./src/core/Engine.ts\");\r\n__webpack_require__(/*! ./css/canvas.scss */ \"./src/css/canvas.scss\");\r\n/**\r\n * Create the only instance of a canvas controller\r\n */\r\nconst engine = new Engine_1.Engine();\r\n/** time tracking variables */\r\nlet previousTimeStamp;\r\nfunction step(timestamp) {\r\n    window.requestAnimationFrame(step);\r\n    // save the start time\r\n    if (previousTimeStamp === undefined) {\r\n        previousTimeStamp = timestamp;\r\n    }\r\n    // calculate the elapsed\r\n    const elapsed = timestamp - previousTimeStamp;\r\n    // if the frame tool longer than 100ms through it out\r\n    if (elapsed < 100) {\r\n        // update the scene\r\n        engine.update(elapsed);\r\n    }\r\n    // request a new frame\r\n    previousTimeStamp = timestamp;\r\n}\r\n/**\r\n * Start the engine then request and animation frame\r\n */\r\nengine\r\n    .initialize(document.getElementById('rootContainer'))\r\n    .then(() => {\r\n    // request the first frame\r\n    window.requestAnimationFrame(step);\r\n})\r\n    .catch((e) => {\r\n    console.error('Error initializing ', e);\r\n});\r\n\n\n//# sourceURL=webpack://earthquest/./src/index.ts?");

/***/ }),

/***/ "./src/math/constants.ts":
/*!*******************************!*\
  !*** ./src/math/constants.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.clamp = exports.equals = exports.toRadian = exports.degree = exports.round = exports.RANDOM = exports.epsilon = void 0;\r\nexports.epsilon = 0.00001;\r\n//\r\n// Custom math functions\r\n//\r\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\r\n// Configuration Constants\r\nexports.RANDOM = Math.random;\r\n/**\r\n * Symmetric round\r\n * see https://www.npmjs.com/package/round-half-up-symmetric#user-content-detailed-background\r\n *\r\n * @param {Number} a value to round\r\n */\r\nfunction round(a) {\r\n    if (a >= 0)\r\n        return Math.round(a);\r\n    return a % 0.5 === 0 ? Math.floor(a) : Math.round(a);\r\n}\r\nexports.round = round;\r\nexports.degree = Math.PI / 180;\r\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\r\nfunction toRadian(a) {\r\n    return a * exports.degree;\r\n}\r\nexports.toRadian = toRadian;\r\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\r\nfunction equals(a, b, eps = exports.epsilon) {\r\n    return Math.abs(a - b) <= exports.epsilon * Math.max(1.0, Math.abs(a), Math.abs(b));\r\n}\r\nexports.equals = equals;\r\n/**\r\n * Clamp a number between values\r\n * @param num\r\n * @param min\r\n * @param max\r\n * @returns\r\n */\r\nfunction clamp(num, min, max) {\r\n    let val = num < min ? min : num > max ? max : num;\r\n    return val;\r\n}\r\nexports.clamp = clamp;\r\n\n\n//# sourceURL=webpack://earthquest/./src/math/constants.ts?");

/***/ }),

/***/ "./src/math/mat3.ts":
/*!**************************!*\
  !*** ./src/math/mat3.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst mat4_1 = __importDefault(__webpack_require__(/*! ./mat4 */ \"./src/math/mat4.ts\"));\r\nconst quat_1 = __importDefault(__webpack_require__(/*! ./quat */ \"./src/math/quat.ts\"));\r\nconst vec2_1 = __importDefault(__webpack_require__(/*! ./vec2 */ \"./src/math/vec2.ts\"));\r\nconst vec3_1 = __importDefault(__webpack_require__(/*! ./vec3 */ \"./src/math/vec3.ts\"));\r\nconst constants_1 = __webpack_require__(/*! ./constants */ \"./src/math/constants.ts\");\r\nclass mat3 {\r\n    constructor(values) {\r\n        this.values = new Float32Array(9);\r\n        if (values !== undefined) {\r\n            this.init(values);\r\n        }\r\n    }\r\n    at(index) {\r\n        return this.values[index];\r\n    }\r\n    init(values) {\r\n        for (let i = 0; i < 9; i++) {\r\n            this.values[i] = values[i];\r\n        }\r\n        return this;\r\n    }\r\n    reset() {\r\n        for (let i = 0; i < 9; i++) {\r\n            this.values[i] = 0;\r\n        }\r\n    }\r\n    copy(dest) {\r\n        if (!dest) {\r\n            dest = new mat3();\r\n        }\r\n        for (let i = 0; i < 9; i++) {\r\n            dest.values[i] = this.values[i];\r\n        }\r\n        return dest;\r\n    }\r\n    all() {\r\n        const data = [];\r\n        for (let i = 0; i < 9; i++) {\r\n            data[i] = this.values[i];\r\n        }\r\n        return data;\r\n    }\r\n    row(index) {\r\n        return [\r\n            this.values[index * 3 + 0],\r\n            this.values[index * 3 + 1],\r\n            this.values[index * 3 + 2],\r\n        ];\r\n    }\r\n    col(index) {\r\n        return [\r\n            this.values[index],\r\n            this.values[index + 3],\r\n            this.values[index + 6],\r\n        ];\r\n    }\r\n    equals(matrix, threshold = constants_1.epsilon) {\r\n        for (let i = 0; i < 9; i++) {\r\n            if (Math.abs(this.values[i] - matrix.at(i)) > threshold) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    determinant() {\r\n        const a00 = this.values[0];\r\n        const a01 = this.values[1];\r\n        const a02 = this.values[2];\r\n        const a10 = this.values[3];\r\n        const a11 = this.values[4];\r\n        const a12 = this.values[5];\r\n        const a20 = this.values[6];\r\n        const a21 = this.values[7];\r\n        const a22 = this.values[8];\r\n        const det01 = a22 * a11 - a12 * a21;\r\n        const det11 = -a22 * a10 + a12 * a20;\r\n        const det21 = a21 * a10 - a11 * a20;\r\n        return a00 * det01 + a01 * det11 + a02 * det21;\r\n    }\r\n    setIdentity() {\r\n        this.values[0] = 1;\r\n        this.values[1] = 0;\r\n        this.values[2] = 0;\r\n        this.values[3] = 0;\r\n        this.values[4] = 1;\r\n        this.values[5] = 0;\r\n        this.values[6] = 0;\r\n        this.values[7] = 0;\r\n        this.values[8] = 1;\r\n        return this;\r\n    }\r\n    transpose() {\r\n        const temp01 = this.values[1];\r\n        const temp02 = this.values[2];\r\n        const temp12 = this.values[5];\r\n        this.values[1] = this.values[3];\r\n        this.values[2] = this.values[6];\r\n        this.values[3] = temp01;\r\n        this.values[5] = this.values[7];\r\n        this.values[6] = temp02;\r\n        this.values[7] = temp12;\r\n        return this;\r\n    }\r\n    inverse() {\r\n        const a00 = this.values[0];\r\n        const a01 = this.values[1];\r\n        const a02 = this.values[2];\r\n        const a10 = this.values[3];\r\n        const a11 = this.values[4];\r\n        const a12 = this.values[5];\r\n        const a20 = this.values[6];\r\n        const a21 = this.values[7];\r\n        const a22 = this.values[8];\r\n        const det01 = a22 * a11 - a12 * a21;\r\n        const det11 = -a22 * a10 + a12 * a20;\r\n        const det21 = a21 * a10 - a11 * a20;\r\n        let det = a00 * det01 + a01 * det11 + a02 * det21;\r\n        if (!det) {\r\n            return null;\r\n        }\r\n        det = 1.0 / det;\r\n        this.values[0] = det01 * det;\r\n        this.values[1] = (-a22 * a01 + a02 * a21) * det;\r\n        this.values[2] = (a12 * a01 - a02 * a11) * det;\r\n        this.values[3] = det11 * det;\r\n        this.values[4] = (a22 * a00 - a02 * a20) * det;\r\n        this.values[5] = (-a12 * a00 + a02 * a10) * det;\r\n        this.values[6] = det21 * det;\r\n        this.values[7] = (-a21 * a00 + a01 * a20) * det;\r\n        this.values[8] = (a11 * a00 - a01 * a10) * det;\r\n        return this;\r\n    }\r\n    multiply(matrix) {\r\n        const a00 = this.values[0];\r\n        const a01 = this.values[1];\r\n        const a02 = this.values[2];\r\n        const a10 = this.values[3];\r\n        const a11 = this.values[4];\r\n        const a12 = this.values[5];\r\n        const a20 = this.values[6];\r\n        const a21 = this.values[7];\r\n        const a22 = this.values[8];\r\n        const b00 = matrix.at(0);\r\n        const b01 = matrix.at(1);\r\n        const b02 = matrix.at(2);\r\n        const b10 = matrix.at(3);\r\n        const b11 = matrix.at(4);\r\n        const b12 = matrix.at(5);\r\n        const b20 = matrix.at(6);\r\n        const b21 = matrix.at(7);\r\n        const b22 = matrix.at(8);\r\n        this.values[0] = b00 * a00 + b01 * a10 + b02 * a20;\r\n        this.values[1] = b00 * a01 + b01 * a11 + b02 * a21;\r\n        this.values[2] = b00 * a02 + b01 * a12 + b02 * a22;\r\n        this.values[3] = b10 * a00 + b11 * a10 + b12 * a20;\r\n        this.values[4] = b10 * a01 + b11 * a11 + b12 * a21;\r\n        this.values[5] = b10 * a02 + b11 * a12 + b12 * a22;\r\n        this.values[6] = b20 * a00 + b21 * a10 + b22 * a20;\r\n        this.values[7] = b20 * a01 + b21 * a11 + b22 * a21;\r\n        this.values[8] = b20 * a02 + b21 * a12 + b22 * a22;\r\n        return this;\r\n    }\r\n    multiplyVec2(vector, result) {\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        if (result) {\r\n            result.xy = [\r\n                x * this.values[0] + y * this.values[3] + this.values[6],\r\n                x * this.values[1] + y * this.values[4] + this.values[7],\r\n            ];\r\n            return result;\r\n        }\r\n        else {\r\n            return new vec2_1.default([\r\n                x * this.values[0] + y * this.values[3] + this.values[6],\r\n                x * this.values[1] + y * this.values[4] + this.values[7],\r\n            ]);\r\n        }\r\n    }\r\n    multiplyVec3(vector, result) {\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        const z = vector.z;\r\n        if (result) {\r\n            result.xyz = [\r\n                x * this.values[0] + y * this.values[3] + z * this.values[6],\r\n                x * this.values[1] + y * this.values[4] + z * this.values[7],\r\n                x * this.values[2] + y * this.values[5] + z * this.values[8],\r\n            ];\r\n            return result;\r\n        }\r\n        else {\r\n            return new vec3_1.default([\r\n                x * this.values[0] + y * this.values[3] + z * this.values[6],\r\n                x * this.values[1] + y * this.values[4] + z * this.values[7],\r\n                x * this.values[2] + y * this.values[5] + z * this.values[8],\r\n            ]);\r\n        }\r\n    }\r\n    toMat4(result) {\r\n        if (result) {\r\n            result.init([\r\n                this.values[0],\r\n                this.values[1],\r\n                this.values[2],\r\n                0,\r\n                this.values[3],\r\n                this.values[4],\r\n                this.values[5],\r\n                0,\r\n                this.values[6],\r\n                this.values[7],\r\n                this.values[8],\r\n                0,\r\n                0,\r\n                0,\r\n                0,\r\n                1,\r\n            ]);\r\n            return result;\r\n        }\r\n        else {\r\n            return new mat4_1.default([\r\n                this.values[0],\r\n                this.values[1],\r\n                this.values[2],\r\n                0,\r\n                this.values[3],\r\n                this.values[4],\r\n                this.values[5],\r\n                0,\r\n                this.values[6],\r\n                this.values[7],\r\n                this.values[8],\r\n                0,\r\n                0,\r\n                0,\r\n                0,\r\n                1,\r\n            ]);\r\n        }\r\n    }\r\n    toQuat() {\r\n        const m00 = this.values[0];\r\n        const m01 = this.values[1];\r\n        const m02 = this.values[2];\r\n        const m10 = this.values[3];\r\n        const m11 = this.values[4];\r\n        const m12 = this.values[5];\r\n        const m20 = this.values[6];\r\n        const m21 = this.values[7];\r\n        const m22 = this.values[8];\r\n        const fourXSquaredMinus1 = m00 - m11 - m22;\r\n        const fourYSquaredMinus1 = m11 - m00 - m22;\r\n        const fourZSquaredMinus1 = m22 - m00 - m11;\r\n        const fourWSquaredMinus1 = m00 + m11 + m22;\r\n        let biggestIndex = 0;\r\n        let fourBiggestSquaredMinus1 = fourWSquaredMinus1;\r\n        if (fourXSquaredMinus1 > fourBiggestSquaredMinus1) {\r\n            fourBiggestSquaredMinus1 = fourXSquaredMinus1;\r\n            biggestIndex = 1;\r\n        }\r\n        if (fourYSquaredMinus1 > fourBiggestSquaredMinus1) {\r\n            fourBiggestSquaredMinus1 = fourYSquaredMinus1;\r\n            biggestIndex = 2;\r\n        }\r\n        if (fourZSquaredMinus1 > fourBiggestSquaredMinus1) {\r\n            fourBiggestSquaredMinus1 = fourZSquaredMinus1;\r\n            biggestIndex = 3;\r\n        }\r\n        const biggestVal = Math.sqrt(fourBiggestSquaredMinus1 + 1) * 0.5;\r\n        const mult = 0.25 / biggestVal;\r\n        const result = new quat_1.default();\r\n        switch (biggestIndex) {\r\n            case 0:\r\n                result.w = biggestVal;\r\n                result.x = (m12 - m21) * mult;\r\n                result.y = (m20 - m02) * mult;\r\n                result.z = (m01 - m10) * mult;\r\n                break;\r\n            case 1:\r\n                result.w = (m12 - m21) * mult;\r\n                result.x = biggestVal;\r\n                result.y = (m01 + m10) * mult;\r\n                result.z = (m20 + m02) * mult;\r\n                break;\r\n            case 2:\r\n                result.w = (m20 - m02) * mult;\r\n                result.x = (m01 + m10) * mult;\r\n                result.y = biggestVal;\r\n                result.z = (m12 + m21) * mult;\r\n                break;\r\n            case 3:\r\n                result.w = (m01 - m10) * mult;\r\n                result.x = (m20 + m02) * mult;\r\n                result.y = (m12 + m21) * mult;\r\n                result.z = biggestVal;\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    rotate(angle, axis) {\r\n        let x = axis.x;\r\n        let y = axis.y;\r\n        let z = axis.z;\r\n        let length = Math.sqrt(x * x + y * y + z * z);\r\n        if (!length) {\r\n            return null;\r\n        }\r\n        if (length !== 1) {\r\n            length = 1 / length;\r\n            x *= length;\r\n            y *= length;\r\n            z *= length;\r\n        }\r\n        const s = Math.sin(angle);\r\n        const c = Math.cos(angle);\r\n        const t = 1.0 - c;\r\n        const a00 = this.values[0];\r\n        const a01 = this.values[1];\r\n        const a02 = this.values[2];\r\n        const a10 = this.values[4];\r\n        const a11 = this.values[5];\r\n        const a12 = this.values[6];\r\n        const a20 = this.values[8];\r\n        const a21 = this.values[9];\r\n        const a22 = this.values[10];\r\n        const b00 = x * x * t + c;\r\n        const b01 = y * x * t + z * s;\r\n        const b02 = z * x * t - y * s;\r\n        const b10 = x * y * t - z * s;\r\n        const b11 = y * y * t + c;\r\n        const b12 = z * y * t + x * s;\r\n        const b20 = x * z * t + y * s;\r\n        const b21 = y * z * t - x * s;\r\n        const b22 = z * z * t + c;\r\n        this.values[0] = a00 * b00 + a10 * b01 + a20 * b02;\r\n        this.values[1] = a01 * b00 + a11 * b01 + a21 * b02;\r\n        this.values[2] = a02 * b00 + a12 * b01 + a22 * b02;\r\n        this.values[3] = a00 * b10 + a10 * b11 + a20 * b12;\r\n        this.values[4] = a01 * b10 + a11 * b11 + a21 * b12;\r\n        this.values[5] = a02 * b10 + a12 * b11 + a22 * b12;\r\n        this.values[6] = a00 * b20 + a10 * b21 + a20 * b22;\r\n        this.values[7] = a01 * b20 + a11 * b21 + a21 * b22;\r\n        this.values[8] = a02 * b20 + a12 * b21 + a22 * b22;\r\n        return this;\r\n    }\r\n    static product(m1, m2, result) {\r\n        const a00 = m1.at(0);\r\n        const a01 = m1.at(1);\r\n        const a02 = m1.at(2);\r\n        const a10 = m1.at(3);\r\n        const a11 = m1.at(4);\r\n        const a12 = m1.at(5);\r\n        const a20 = m1.at(6);\r\n        const a21 = m1.at(7);\r\n        const a22 = m1.at(8);\r\n        const b00 = m2.at(0);\r\n        const b01 = m2.at(1);\r\n        const b02 = m2.at(2);\r\n        const b10 = m2.at(3);\r\n        const b11 = m2.at(4);\r\n        const b12 = m2.at(5);\r\n        const b20 = m2.at(6);\r\n        const b21 = m2.at(7);\r\n        const b22 = m2.at(8);\r\n        if (result) {\r\n            result.init([\r\n                b00 * a00 + b01 * a10 + b02 * a20,\r\n                b00 * a01 + b01 * a11 + b02 * a21,\r\n                b00 * a02 + b01 * a12 + b02 * a22,\r\n                b10 * a00 + b11 * a10 + b12 * a20,\r\n                b10 * a01 + b11 * a11 + b12 * a21,\r\n                b10 * a02 + b11 * a12 + b12 * a22,\r\n                b20 * a00 + b21 * a10 + b22 * a20,\r\n                b20 * a01 + b21 * a11 + b22 * a21,\r\n                b20 * a02 + b21 * a12 + b22 * a22,\r\n            ]);\r\n            return result;\r\n        }\r\n        else {\r\n            return new mat3([\r\n                b00 * a00 + b01 * a10 + b02 * a20,\r\n                b00 * a01 + b01 * a11 + b02 * a21,\r\n                b00 * a02 + b01 * a12 + b02 * a22,\r\n                b10 * a00 + b11 * a10 + b12 * a20,\r\n                b10 * a01 + b11 * a11 + b12 * a21,\r\n                b10 * a02 + b11 * a12 + b12 * a22,\r\n                b20 * a00 + b21 * a10 + b22 * a20,\r\n                b20 * a01 + b21 * a11 + b22 * a21,\r\n                b20 * a02 + b21 * a12 + b22 * a22,\r\n            ]);\r\n        }\r\n    }\r\n}\r\nexports[\"default\"] = mat3;\r\nmat3.identity = new mat3().setIdentity();\r\n\n\n//# sourceURL=webpack://earthquest/./src/math/mat3.ts?");

/***/ }),

/***/ "./src/math/mat4.ts":
/*!**************************!*\
  !*** ./src/math/mat4.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst mat3_1 = __importDefault(__webpack_require__(/*! ./mat3 */ \"./src/math/mat3.ts\"));\r\nconst vec3_1 = __importDefault(__webpack_require__(/*! ./vec3 */ \"./src/math/vec3.ts\"));\r\nconst vec4_1 = __importDefault(__webpack_require__(/*! ./vec4 */ \"./src/math/vec4.ts\"));\r\nconst constants_1 = __webpack_require__(/*! ./constants */ \"./src/math/constants.ts\");\r\nclass mat4 {\r\n    constructor(values) {\r\n        this.values = new Float32Array(16);\r\n        if (values !== undefined) {\r\n            this.init(values);\r\n        }\r\n    }\r\n    getValues() {\r\n        return this.values;\r\n    }\r\n    at(index) {\r\n        return this.values[index];\r\n    }\r\n    init(values) {\r\n        for (let i = 0; i < 16; i++) {\r\n            this.values[i] = values[i];\r\n        }\r\n        return this;\r\n    }\r\n    reset() {\r\n        for (let i = 0; i < 16; i++) {\r\n            this.values[i] = 0;\r\n        }\r\n    }\r\n    copy(dest) {\r\n        if (!dest) {\r\n            dest = new mat4();\r\n        }\r\n        for (let i = 0; i < 16; i++) {\r\n            dest.values[i] = this.values[i];\r\n        }\r\n        return dest;\r\n    }\r\n    all() {\r\n        const data = [];\r\n        for (let i = 0; i < 16; i++) {\r\n            data[i] = this.values[i];\r\n        }\r\n        return data;\r\n    }\r\n    row(index) {\r\n        return [\r\n            this.values[index * 4 + 0],\r\n            this.values[index * 4 + 1],\r\n            this.values[index * 4 + 2],\r\n            this.values[index * 4 + 3],\r\n        ];\r\n    }\r\n    col(index) {\r\n        return [this.values[index], this.values[index + 4], this.values[index + 8], this.values[index + 12]];\r\n    }\r\n    equals(matrix, threshold = constants_1.epsilon) {\r\n        for (let i = 0; i < 16; i++) {\r\n            if (Math.abs(this.values[i] - matrix.at(i)) > threshold) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    determinant() {\r\n        const a00 = this.values[0];\r\n        const a01 = this.values[1];\r\n        const a02 = this.values[2];\r\n        const a03 = this.values[3];\r\n        const a10 = this.values[4];\r\n        const a11 = this.values[5];\r\n        const a12 = this.values[6];\r\n        const a13 = this.values[7];\r\n        const a20 = this.values[8];\r\n        const a21 = this.values[9];\r\n        const a22 = this.values[10];\r\n        const a23 = this.values[11];\r\n        const a30 = this.values[12];\r\n        const a31 = this.values[13];\r\n        const a32 = this.values[14];\r\n        const a33 = this.values[15];\r\n        const det00 = a00 * a11 - a01 * a10;\r\n        const det01 = a00 * a12 - a02 * a10;\r\n        const det02 = a00 * a13 - a03 * a10;\r\n        const det03 = a01 * a12 - a02 * a11;\r\n        const det04 = a01 * a13 - a03 * a11;\r\n        const det05 = a02 * a13 - a03 * a12;\r\n        const det06 = a20 * a31 - a21 * a30;\r\n        const det07 = a20 * a32 - a22 * a30;\r\n        const det08 = a20 * a33 - a23 * a30;\r\n        const det09 = a21 * a32 - a22 * a31;\r\n        const det10 = a21 * a33 - a23 * a31;\r\n        const det11 = a22 * a33 - a23 * a32;\r\n        return det00 * det11 - det01 * det10 + det02 * det09 + det03 * det08 - det04 * det07 + det05 * det06;\r\n    }\r\n    setIdentity() {\r\n        this.values[0] = 1;\r\n        this.values[1] = 0;\r\n        this.values[2] = 0;\r\n        this.values[3] = 0;\r\n        this.values[4] = 0;\r\n        this.values[5] = 1;\r\n        this.values[6] = 0;\r\n        this.values[7] = 0;\r\n        this.values[8] = 0;\r\n        this.values[9] = 0;\r\n        this.values[10] = 1;\r\n        this.values[11] = 0;\r\n        this.values[12] = 0;\r\n        this.values[13] = 0;\r\n        this.values[14] = 0;\r\n        this.values[15] = 1;\r\n        return this;\r\n    }\r\n    transpose() {\r\n        const temp01 = this.values[1];\r\n        const temp02 = this.values[2];\r\n        const temp03 = this.values[3];\r\n        const temp12 = this.values[6];\r\n        const temp13 = this.values[7];\r\n        const temp23 = this.values[11];\r\n        this.values[1] = this.values[4];\r\n        this.values[2] = this.values[8];\r\n        this.values[3] = this.values[12];\r\n        this.values[4] = temp01;\r\n        this.values[6] = this.values[9];\r\n        this.values[7] = this.values[13];\r\n        this.values[8] = temp02;\r\n        this.values[9] = temp12;\r\n        this.values[11] = this.values[14];\r\n        this.values[12] = temp03;\r\n        this.values[13] = temp13;\r\n        this.values[14] = temp23;\r\n        return this;\r\n    }\r\n    inverse() {\r\n        const a00 = this.values[0];\r\n        const a01 = this.values[1];\r\n        const a02 = this.values[2];\r\n        const a03 = this.values[3];\r\n        const a10 = this.values[4];\r\n        const a11 = this.values[5];\r\n        const a12 = this.values[6];\r\n        const a13 = this.values[7];\r\n        const a20 = this.values[8];\r\n        const a21 = this.values[9];\r\n        const a22 = this.values[10];\r\n        const a23 = this.values[11];\r\n        const a30 = this.values[12];\r\n        const a31 = this.values[13];\r\n        const a32 = this.values[14];\r\n        const a33 = this.values[15];\r\n        const det00 = a00 * a11 - a01 * a10;\r\n        const det01 = a00 * a12 - a02 * a10;\r\n        const det02 = a00 * a13 - a03 * a10;\r\n        const det03 = a01 * a12 - a02 * a11;\r\n        const det04 = a01 * a13 - a03 * a11;\r\n        const det05 = a02 * a13 - a03 * a12;\r\n        const det06 = a20 * a31 - a21 * a30;\r\n        const det07 = a20 * a32 - a22 * a30;\r\n        const det08 = a20 * a33 - a23 * a30;\r\n        const det09 = a21 * a32 - a22 * a31;\r\n        const det10 = a21 * a33 - a23 * a31;\r\n        const det11 = a22 * a33 - a23 * a32;\r\n        let det = det00 * det11 - det01 * det10 + det02 * det09 + det03 * det08 - det04 * det07 + det05 * det06;\r\n        if (!det) {\r\n            return null;\r\n        }\r\n        det = 1.0 / det;\r\n        this.values[0] = (a11 * det11 - a12 * det10 + a13 * det09) * det;\r\n        this.values[1] = (-a01 * det11 + a02 * det10 - a03 * det09) * det;\r\n        this.values[2] = (a31 * det05 - a32 * det04 + a33 * det03) * det;\r\n        this.values[3] = (-a21 * det05 + a22 * det04 - a23 * det03) * det;\r\n        this.values[4] = (-a10 * det11 + a12 * det08 - a13 * det07) * det;\r\n        this.values[5] = (a00 * det11 - a02 * det08 + a03 * det07) * det;\r\n        this.values[6] = (-a30 * det05 + a32 * det02 - a33 * det01) * det;\r\n        this.values[7] = (a20 * det05 - a22 * det02 + a23 * det01) * det;\r\n        this.values[8] = (a10 * det10 - a11 * det08 + a13 * det06) * det;\r\n        this.values[9] = (-a00 * det10 + a01 * det08 - a03 * det06) * det;\r\n        this.values[10] = (a30 * det04 - a31 * det02 + a33 * det00) * det;\r\n        this.values[11] = (-a20 * det04 + a21 * det02 - a23 * det00) * det;\r\n        this.values[12] = (-a10 * det09 + a11 * det07 - a12 * det06) * det;\r\n        this.values[13] = (a00 * det09 - a01 * det07 + a02 * det06) * det;\r\n        this.values[14] = (-a30 * det03 + a31 * det01 - a32 * det00) * det;\r\n        this.values[15] = (a20 * det03 - a21 * det01 + a22 * det00) * det;\r\n        return this;\r\n    }\r\n    multiply(matrix) {\r\n        const a00 = this.values[0];\r\n        const a01 = this.values[1];\r\n        const a02 = this.values[2];\r\n        const a03 = this.values[3];\r\n        const a10 = this.values[4];\r\n        const a11 = this.values[5];\r\n        const a12 = this.values[6];\r\n        const a13 = this.values[7];\r\n        const a20 = this.values[8];\r\n        const a21 = this.values[9];\r\n        const a22 = this.values[10];\r\n        const a23 = this.values[11];\r\n        const a30 = this.values[12];\r\n        const a31 = this.values[13];\r\n        const a32 = this.values[14];\r\n        const a33 = this.values[15];\r\n        let b0 = matrix.at(0);\r\n        let b1 = matrix.at(1);\r\n        let b2 = matrix.at(2);\r\n        let b3 = matrix.at(3);\r\n        this.values[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n        this.values[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n        this.values[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n        this.values[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n        b0 = matrix.at(4);\r\n        b1 = matrix.at(5);\r\n        b2 = matrix.at(6);\r\n        b3 = matrix.at(7);\r\n        this.values[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n        this.values[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n        this.values[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n        this.values[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n        b0 = matrix.at(8);\r\n        b1 = matrix.at(9);\r\n        b2 = matrix.at(10);\r\n        b3 = matrix.at(11);\r\n        this.values[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n        this.values[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n        this.values[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n        this.values[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n        b0 = matrix.at(12);\r\n        b1 = matrix.at(13);\r\n        b2 = matrix.at(14);\r\n        b3 = matrix.at(15);\r\n        this.values[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n        this.values[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n        this.values[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n        this.values[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n        return this;\r\n    }\r\n    multiplyVec3(vector, target) {\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        const z = vector.z;\r\n        if (!target) {\r\n            target = new vec3_1.default();\r\n        }\r\n        target.x = this.values[0] * x + this.values[4] * y + this.values[8] * z + this.values[12];\r\n        target.y = this.values[1] * x + this.values[5] * y + this.values[9] * z + this.values[13];\r\n        target.z = this.values[2] * x + this.values[6] * y + this.values[10] * z + this.values[14];\r\n        return target;\r\n    }\r\n    multiplyVec4(vector, dest) {\r\n        if (!dest) {\r\n            dest = new vec4_1.default();\r\n        }\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        const z = vector.z;\r\n        const w = vector.w;\r\n        dest.x = this.values[0] * x + this.values[4] * y + this.values[8] * z + this.values[12] * w;\r\n        dest.y = this.values[1] * x + this.values[5] * y + this.values[9] * z + this.values[13] * w;\r\n        dest.z = this.values[2] * x + this.values[6] * y + this.values[10] * z + this.values[14] * w;\r\n        dest.w = this.values[3] * x + this.values[7] * y + this.values[11] * z + this.values[15] * w;\r\n        return dest;\r\n    }\r\n    toMat3() {\r\n        return new mat3_1.default([\r\n            this.values[0],\r\n            this.values[1],\r\n            this.values[2],\r\n            this.values[4],\r\n            this.values[5],\r\n            this.values[6],\r\n            this.values[8],\r\n            this.values[9],\r\n            this.values[10],\r\n        ]);\r\n    }\r\n    toInverseMat3() {\r\n        const a00 = this.values[0];\r\n        const a01 = this.values[1];\r\n        const a02 = this.values[2];\r\n        const a10 = this.values[4];\r\n        const a11 = this.values[5];\r\n        const a12 = this.values[6];\r\n        const a20 = this.values[8];\r\n        const a21 = this.values[9];\r\n        const a22 = this.values[10];\r\n        const det01 = a22 * a11 - a12 * a21;\r\n        const det11 = -a22 * a10 + a12 * a20;\r\n        const det21 = a21 * a10 - a11 * a20;\r\n        let det = a00 * det01 + a01 * det11 + a02 * det21;\r\n        if (!det) {\r\n            return null;\r\n        }\r\n        det = 1.0 / det;\r\n        return new mat3_1.default([\r\n            det01 * det,\r\n            (-a22 * a01 + a02 * a21) * det,\r\n            (a12 * a01 - a02 * a11) * det,\r\n            det11 * det,\r\n            (a22 * a00 - a02 * a20) * det,\r\n            (-a12 * a00 + a02 * a10) * det,\r\n            det21 * det,\r\n            (-a21 * a00 + a01 * a20) * det,\r\n            (a11 * a00 - a01 * a10) * det,\r\n        ]);\r\n    }\r\n    translate(vector) {\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        const z = vector.z;\r\n        this.values[12] += this.values[0] * x + this.values[4] * y + this.values[8] * z;\r\n        this.values[13] += this.values[1] * x + this.values[5] * y + this.values[9] * z;\r\n        this.values[14] += this.values[2] * x + this.values[6] * y + this.values[10] * z;\r\n        this.values[15] += this.values[3] * x + this.values[7] * y + this.values[11] * z;\r\n        return this;\r\n    }\r\n    scale(vector) {\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        const z = vector.z;\r\n        this.values[0] *= x;\r\n        this.values[1] *= x;\r\n        this.values[2] *= x;\r\n        this.values[3] *= x;\r\n        this.values[4] *= y;\r\n        this.values[5] *= y;\r\n        this.values[6] *= y;\r\n        this.values[7] *= y;\r\n        this.values[8] *= z;\r\n        this.values[9] *= z;\r\n        this.values[10] *= z;\r\n        this.values[11] *= z;\r\n        return this;\r\n    }\r\n    rotate(angle, axis) {\r\n        let x = axis.x;\r\n        let y = axis.y;\r\n        let z = axis.z;\r\n        let length = Math.sqrt(x * x + y * y + z * z);\r\n        if (!length) {\r\n            return null;\r\n        }\r\n        if (length !== 1) {\r\n            length = 1 / length;\r\n            x *= length;\r\n            y *= length;\r\n            z *= length;\r\n        }\r\n        const s = Math.sin(angle);\r\n        const c = Math.cos(angle);\r\n        const t = 1.0 - c;\r\n        const a00 = this.values[0];\r\n        const a01 = this.values[1];\r\n        const a02 = this.values[2];\r\n        const a03 = this.values[3];\r\n        const a10 = this.values[4];\r\n        const a11 = this.values[5];\r\n        const a12 = this.values[6];\r\n        const a13 = this.values[7];\r\n        const a20 = this.values[8];\r\n        const a21 = this.values[9];\r\n        const a22 = this.values[10];\r\n        const a23 = this.values[11];\r\n        const b00 = x * x * t + c;\r\n        const b01 = y * x * t + z * s;\r\n        const b02 = z * x * t - y * s;\r\n        const b10 = x * y * t - z * s;\r\n        const b11 = y * y * t + c;\r\n        const b12 = z * y * t + x * s;\r\n        const b20 = x * z * t + y * s;\r\n        const b21 = y * z * t - x * s;\r\n        const b22 = z * z * t + c;\r\n        this.values[0] = a00 * b00 + a10 * b01 + a20 * b02;\r\n        this.values[1] = a01 * b00 + a11 * b01 + a21 * b02;\r\n        this.values[2] = a02 * b00 + a12 * b01 + a22 * b02;\r\n        this.values[3] = a03 * b00 + a13 * b01 + a23 * b02;\r\n        this.values[4] = a00 * b10 + a10 * b11 + a20 * b12;\r\n        this.values[5] = a01 * b10 + a11 * b11 + a21 * b12;\r\n        this.values[6] = a02 * b10 + a12 * b11 + a22 * b12;\r\n        this.values[7] = a03 * b10 + a13 * b11 + a23 * b12;\r\n        this.values[8] = a00 * b20 + a10 * b21 + a20 * b22;\r\n        this.values[9] = a01 * b20 + a11 * b21 + a21 * b22;\r\n        this.values[10] = a02 * b20 + a12 * b21 + a22 * b22;\r\n        this.values[11] = a03 * b20 + a13 * b21 + a23 * b22;\r\n        return this;\r\n    }\r\n    static frustum(left, right, bottom, top, near, far) {\r\n        const rl = right - left;\r\n        const tb = top - bottom;\r\n        const fn = far - near;\r\n        return new mat4([\r\n            (near * 2) / rl,\r\n            0,\r\n            0,\r\n            0,\r\n            0,\r\n            (near * 2) / tb,\r\n            0,\r\n            0,\r\n            (right + left) / rl,\r\n            (top + bottom) / tb,\r\n            -(far + near) / fn,\r\n            -1,\r\n            0,\r\n            0,\r\n            -(far * near * 2) / fn,\r\n            0,\r\n        ]);\r\n    }\r\n    static perspective(fov, aspect, near, far) {\r\n        const top = near * Math.tan((fov * Math.PI) / 360.0);\r\n        const right = top * aspect;\r\n        return mat4.frustum(-right, right, -top, top, near, far);\r\n    }\r\n    static orthographic(left, right, bottom, top, near, far, target) {\r\n        const rl = right - left;\r\n        const tb = top - bottom;\r\n        const fn = far - near;\r\n        if (!target) {\r\n            target = new mat4();\r\n        }\r\n        target.values[0] = 2 / rl;\r\n        target.values[1] = 0;\r\n        target.values[2] = 0;\r\n        target.values[3] = 0;\r\n        target.values[4] = 0;\r\n        target.values[5] = 2 / tb;\r\n        target.values[6] = 0;\r\n        target.values[7] = 0;\r\n        target.values[8] = 0;\r\n        target.values[9] = 0;\r\n        target.values[10] = -2 / fn;\r\n        target.values[11] = 0;\r\n        target.values[12] = -(left + right) / rl;\r\n        target.values[13] = -(top + bottom) / tb;\r\n        target.values[14] = -(far + near) / fn;\r\n        target.values[15] = 1;\r\n        return target;\r\n    }\r\n    static lookAt(position, target, up = vec3_1.default.up) {\r\n        if (position.equals(target)) {\r\n            return this.identity;\r\n        }\r\n        const z = vec3_1.default.difference(position, target).normalize();\r\n        const x = vec3_1.default.cross(up, z).normalize();\r\n        const y = vec3_1.default.cross(z, x).normalize();\r\n        return new mat4([\r\n            x.x,\r\n            y.x,\r\n            z.x,\r\n            0,\r\n            x.y,\r\n            y.y,\r\n            z.y,\r\n            0,\r\n            x.z,\r\n            y.z,\r\n            z.z,\r\n            0,\r\n            -vec3_1.default.dot(x, position),\r\n            -vec3_1.default.dot(y, position),\r\n            -vec3_1.default.dot(z, position),\r\n            1,\r\n        ]);\r\n    }\r\n    static product(m1, m2, result) {\r\n        const a00 = m1.at(0);\r\n        const a01 = m1.at(1);\r\n        const a02 = m1.at(2);\r\n        const a03 = m1.at(3);\r\n        const a10 = m1.at(4);\r\n        const a11 = m1.at(5);\r\n        const a12 = m1.at(6);\r\n        const a13 = m1.at(7);\r\n        const a20 = m1.at(8);\r\n        const a21 = m1.at(9);\r\n        const a22 = m1.at(10);\r\n        const a23 = m1.at(11);\r\n        const a30 = m1.at(12);\r\n        const a31 = m1.at(13);\r\n        const a32 = m1.at(14);\r\n        const a33 = m1.at(15);\r\n        const b00 = m2.at(0);\r\n        const b01 = m2.at(1);\r\n        const b02 = m2.at(2);\r\n        const b03 = m2.at(3);\r\n        const b10 = m2.at(4);\r\n        const b11 = m2.at(5);\r\n        const b12 = m2.at(6);\r\n        const b13 = m2.at(7);\r\n        const b20 = m2.at(8);\r\n        const b21 = m2.at(9);\r\n        const b22 = m2.at(10);\r\n        const b23 = m2.at(11);\r\n        const b30 = m2.at(12);\r\n        const b31 = m2.at(13);\r\n        const b32 = m2.at(14);\r\n        const b33 = m2.at(15);\r\n        if (result) {\r\n            result.init([\r\n                b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,\r\n                b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31,\r\n                b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32,\r\n                b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33,\r\n                b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,\r\n                b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,\r\n                b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,\r\n                b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,\r\n                b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,\r\n                b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,\r\n                b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,\r\n                b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,\r\n                b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,\r\n                b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,\r\n                b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,\r\n                b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33,\r\n            ]);\r\n            return result;\r\n        }\r\n        else {\r\n            return new mat4([\r\n                b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,\r\n                b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31,\r\n                b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32,\r\n                b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33,\r\n                b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,\r\n                b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,\r\n                b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,\r\n                b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,\r\n                b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,\r\n                b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,\r\n                b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,\r\n                b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,\r\n                b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,\r\n                b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,\r\n                b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,\r\n                b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33,\r\n            ]);\r\n        }\r\n    }\r\n}\r\nexports[\"default\"] = mat4;\r\nmat4.identity = new mat4().setIdentity();\r\n\n\n//# sourceURL=webpack://earthquest/./src/math/mat4.ts?");

/***/ }),

/***/ "./src/math/quat.ts":
/*!**************************!*\
  !*** ./src/math/quat.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst mat3_1 = __importDefault(__webpack_require__(/*! ./mat3 */ \"./src/math/mat3.ts\"));\r\nconst mat4_1 = __importDefault(__webpack_require__(/*! ./mat4 */ \"./src/math/mat4.ts\"));\r\nconst vec3_1 = __importDefault(__webpack_require__(/*! ./vec3 */ \"./src/math/vec3.ts\"));\r\nconst constants_1 = __webpack_require__(/*! ./constants */ \"./src/math/constants.ts\");\r\nclass quat {\r\n    get x() {\r\n        return this.values[0];\r\n    }\r\n    get y() {\r\n        return this.values[1];\r\n    }\r\n    get z() {\r\n        return this.values[2];\r\n    }\r\n    get w() {\r\n        return this.values[3];\r\n    }\r\n    get xy() {\r\n        return [\r\n            this.values[0],\r\n            this.values[1],\r\n        ];\r\n    }\r\n    get xyz() {\r\n        return [\r\n            this.values[0],\r\n            this.values[1],\r\n            this.values[2],\r\n        ];\r\n    }\r\n    get xyzw() {\r\n        return [\r\n            this.values[0],\r\n            this.values[1],\r\n            this.values[2],\r\n            this.values[3],\r\n        ];\r\n    }\r\n    set x(value) {\r\n        this.values[0] = value;\r\n    }\r\n    set y(value) {\r\n        this.values[1] = value;\r\n    }\r\n    set z(value) {\r\n        this.values[2] = value;\r\n    }\r\n    set w(value) {\r\n        this.values[3] = value;\r\n    }\r\n    set xy(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n    }\r\n    set xyz(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n        this.values[2] = values[2];\r\n    }\r\n    set xyzw(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n        this.values[2] = values[2];\r\n        this.values[3] = values[3];\r\n    }\r\n    constructor(values) {\r\n        this.values = new Float32Array(4);\r\n        if (values !== undefined) {\r\n            this.xyzw = values;\r\n        }\r\n    }\r\n    at(index) {\r\n        return this.values[index];\r\n    }\r\n    reset() {\r\n        for (let i = 0; i < 4; i++) {\r\n            this.values[i] = 0;\r\n        }\r\n    }\r\n    copy(dest) {\r\n        if (!dest) {\r\n            dest = new quat();\r\n        }\r\n        for (let i = 0; i < 4; i++) {\r\n            dest.values[i] = this.values[i];\r\n        }\r\n        return dest;\r\n    }\r\n    roll() {\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        const w = this.w;\r\n        return Math.atan2(2.0 * (x * y + w * z), w * w + x * x - y * y - z * z);\r\n    }\r\n    pitch() {\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        const w = this.w;\r\n        return Math.atan2(2.0 * (y * z + w * x), w * w - x * x - y * y + z * z);\r\n    }\r\n    yaw() {\r\n        return Math.asin(2.0 * (this.x * this.z - this.w * this.y));\r\n    }\r\n    equals(vector, threshold = constants_1.epsilon) {\r\n        for (let i = 0; i < 4; i++) {\r\n            if (Math.abs(this.values[i] - vector.at(i)) > threshold) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    setIdentity() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n        this.w = 1;\r\n        return this;\r\n    }\r\n    calculateW() {\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        this.w = -(Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z)));\r\n        return this;\r\n    }\r\n    inverse() {\r\n        const dot = quat.dot(this, this);\r\n        if (!dot) {\r\n            this.xyzw = [0, 0, 0, 0];\r\n            return this;\r\n        }\r\n        const invDot = dot ? 1.0 / dot : 0;\r\n        this.x *= -invDot;\r\n        this.y *= -invDot;\r\n        this.z *= -invDot;\r\n        this.w *= invDot;\r\n        return this;\r\n    }\r\n    conjugate() {\r\n        this.values[0] *= -1;\r\n        this.values[1] *= -1;\r\n        this.values[2] *= -1;\r\n        return this;\r\n    }\r\n    length() {\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        const w = this.w;\r\n        return Math.sqrt(x * x + y * y + z * z + w * w);\r\n    }\r\n    normalize(dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        const w = this.w;\r\n        let length = Math.sqrt(x * x + y * y + z * z + w * w);\r\n        if (!length) {\r\n            dest.x = 0;\r\n            dest.y = 0;\r\n            dest.z = 0;\r\n            dest.w = 0;\r\n            return dest;\r\n        }\r\n        length = 1 / length;\r\n        dest.x = x * length;\r\n        dest.y = y * length;\r\n        dest.z = z * length;\r\n        dest.w = w * length;\r\n        return dest;\r\n    }\r\n    add(other) {\r\n        for (let i = 0; i < 4; i++) {\r\n            this.values[i] += other.at(i);\r\n        }\r\n        return this;\r\n    }\r\n    multiply(other) {\r\n        const q1x = this.values[0];\r\n        const q1y = this.values[1];\r\n        const q1z = this.values[2];\r\n        const q1w = this.values[3];\r\n        const q2x = other.x;\r\n        const q2y = other.y;\r\n        const q2z = other.z;\r\n        const q2w = other.w;\r\n        this.x = q1x * q2w + q1w * q2x + q1y * q2z - q1z * q2y;\r\n        this.y = q1y * q2w + q1w * q2y + q1z * q2x - q1x * q2z;\r\n        this.z = q1z * q2w + q1w * q2z + q1x * q2y - q1y * q2x;\r\n        this.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;\r\n        return this;\r\n    }\r\n    multiplyVec3(vector, dest) {\r\n        if (!dest) {\r\n            dest = new vec3_1.default();\r\n        }\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        const z = vector.z;\r\n        const qx = this.x;\r\n        const qy = this.y;\r\n        const qz = this.z;\r\n        const qw = this.w;\r\n        const ix = qw * x + qy * z - qz * y;\r\n        const iy = qw * y + qz * x - qx * z;\r\n        const iz = qw * z + qx * y - qy * x;\r\n        const iw = -qx * x - qy * y - qz * z;\r\n        dest.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\r\n        dest.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\r\n        dest.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\r\n        return dest;\r\n    }\r\n    toMat3(dest) {\r\n        if (!dest) {\r\n            dest = new mat3_1.default();\r\n        }\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        const w = this.w;\r\n        const x2 = x + x;\r\n        const y2 = y + y;\r\n        const z2 = z + z;\r\n        const xx = x * x2;\r\n        const xy = x * y2;\r\n        const xz = x * z2;\r\n        const yy = y * y2;\r\n        const yz = y * z2;\r\n        const zz = z * z2;\r\n        const wx = w * x2;\r\n        const wy = w * y2;\r\n        const wz = w * z2;\r\n        dest.init([\r\n            1 - (yy + zz),\r\n            xy + wz,\r\n            xz - wy,\r\n            xy - wz,\r\n            1 - (xx + zz),\r\n            yz + wx,\r\n            xz + wy,\r\n            yz - wx,\r\n            1 - (xx + yy),\r\n        ]);\r\n        return dest;\r\n    }\r\n    toMat4(dest) {\r\n        if (!dest) {\r\n            dest = new mat4_1.default();\r\n        }\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        const w = this.w;\r\n        const x2 = x + x;\r\n        const y2 = y + y;\r\n        const z2 = z + z;\r\n        const xx = x * x2;\r\n        const xy = x * y2;\r\n        const xz = x * z2;\r\n        const yy = y * y2;\r\n        const yz = y * z2;\r\n        const zz = z * z2;\r\n        const wx = w * x2;\r\n        const wy = w * y2;\r\n        const wz = w * z2;\r\n        dest.init([\r\n            1 - (yy + zz),\r\n            xy + wz,\r\n            xz - wy,\r\n            0,\r\n            xy - wz,\r\n            1 - (xx + zz),\r\n            yz + wx,\r\n            0,\r\n            xz + wy,\r\n            yz - wx,\r\n            1 - (xx + yy),\r\n            0,\r\n            0,\r\n            0,\r\n            0,\r\n            1,\r\n        ]);\r\n        return dest;\r\n    }\r\n    static dot(q1, q2) {\r\n        return q1.x * q2.x + q1.y * q2.y + q1.z * q2.z + q1.w * q2.w;\r\n    }\r\n    static sum(q1, q2, dest) {\r\n        if (!dest) {\r\n            dest = new quat();\r\n        }\r\n        dest.x = q1.x + q2.x;\r\n        dest.y = q1.y + q2.y;\r\n        dest.z = q1.z + q2.z;\r\n        dest.w = q1.w + q2.w;\r\n        return dest;\r\n    }\r\n    static product(q1, q2, dest) {\r\n        if (!dest) {\r\n            dest = new quat();\r\n        }\r\n        const q1x = q1.x;\r\n        const q1y = q1.y;\r\n        const q1z = q1.z;\r\n        const q1w = q1.w;\r\n        const q2x = q2.x;\r\n        const q2y = q2.y;\r\n        const q2z = q2.z;\r\n        const q2w = q2.w;\r\n        dest.x = q1x * q2w + q1w * q2x + q1y * q2z - q1z * q2y;\r\n        dest.y = q1y * q2w + q1w * q2y + q1z * q2x - q1x * q2z;\r\n        dest.z = q1z * q2w + q1w * q2z + q1x * q2y - q1y * q2x;\r\n        dest.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;\r\n        return dest;\r\n    }\r\n    static cross(q1, q2, dest) {\r\n        if (!dest) {\r\n            dest = new quat();\r\n        }\r\n        const q1x = q1.x;\r\n        const q1y = q1.y;\r\n        const q1z = q1.z;\r\n        const q1w = q1.w;\r\n        const q2x = q2.x;\r\n        const q2y = q2.y;\r\n        const q2z = q2.z;\r\n        const q2w = q2.w;\r\n        dest.x = q1w * q2z + q1z * q2w + q1x * q2y - q1y * q2x;\r\n        dest.y = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;\r\n        dest.z = q1w * q2x + q1x * q2w + q1y * q2z - q1z * q2y;\r\n        dest.w = q1w * q2y + q1y * q2w + q1z * q2x - q1x * q2z;\r\n        return dest;\r\n    }\r\n    static shortMix(q1, q2, time, dest) {\r\n        if (!dest) {\r\n            dest = new quat();\r\n        }\r\n        if (time <= 0.0) {\r\n            dest.xyzw = q1.xyzw;\r\n            return dest;\r\n        }\r\n        else if (time >= 1.0) {\r\n            dest.xyzw = q2.xyzw;\r\n            return dest;\r\n        }\r\n        let cos = quat.dot(q1, q2);\r\n        const q2a = q2.copy();\r\n        if (cos < 0.0) {\r\n            q2a.inverse();\r\n            cos = -cos;\r\n        }\r\n        let k0;\r\n        let k1;\r\n        if (cos > 0.9999) {\r\n            k0 = 1 - time;\r\n            k1 = 0 + time;\r\n        }\r\n        else {\r\n            const sin = Math.sqrt(1 - cos * cos);\r\n            const angle = Math.atan2(sin, cos);\r\n            const oneOverSin = 1 / sin;\r\n            k0 = Math.sin((1 - time) * angle) * oneOverSin;\r\n            k1 = Math.sin((0 + time) * angle) * oneOverSin;\r\n        }\r\n        dest.x = k0 * q1.x + k1 * q2a.x;\r\n        dest.y = k0 * q1.y + k1 * q2a.y;\r\n        dest.z = k0 * q1.z + k1 * q2a.z;\r\n        dest.w = k0 * q1.w + k1 * q2a.w;\r\n        return dest;\r\n    }\r\n    static mix(q1, q2, time, dest) {\r\n        if (!dest) {\r\n            dest = new quat();\r\n        }\r\n        const cosHalfTheta = q1.x * q2.x + q1.y * q2.y + q1.z * q2.z + q1.w * q2.w;\r\n        if (Math.abs(cosHalfTheta) >= 1.0) {\r\n            dest.xyzw = q1.xyzw;\r\n            return dest;\r\n        }\r\n        const halfTheta = Math.acos(cosHalfTheta);\r\n        const sinHalfTheta = Math.sqrt(1.0 - cosHalfTheta * cosHalfTheta);\r\n        if (Math.abs(sinHalfTheta) < 0.001) {\r\n            dest.x = q1.x * 0.5 + q2.x * 0.5;\r\n            dest.y = q1.y * 0.5 + q2.y * 0.5;\r\n            dest.z = q1.z * 0.5 + q2.z * 0.5;\r\n            dest.w = q1.w * 0.5 + q2.w * 0.5;\r\n            return dest;\r\n        }\r\n        const ratioA = Math.sin((1 - time) * halfTheta) / sinHalfTheta;\r\n        const ratioB = Math.sin(time * halfTheta) / sinHalfTheta;\r\n        dest.x = q1.x * ratioA + q2.x * ratioB;\r\n        dest.y = q1.y * ratioA + q2.y * ratioB;\r\n        dest.z = q1.z * ratioA + q2.z * ratioB;\r\n        dest.w = q1.w * ratioA + q2.w * ratioB;\r\n        return dest;\r\n    }\r\n    static fromAxisAngle(axis, angle, dest) {\r\n        if (!dest) {\r\n            dest = new quat();\r\n        }\r\n        angle *= 0.5;\r\n        const sin = Math.sin(angle);\r\n        dest.x = axis.x * sin;\r\n        dest.y = axis.y * sin;\r\n        dest.z = axis.z * sin;\r\n        dest.w = Math.cos(angle);\r\n        return dest;\r\n    }\r\n}\r\nexports[\"default\"] = quat;\r\nquat.identity = new quat().setIdentity();\r\n\n\n//# sourceURL=webpack://earthquest/./src/math/quat.ts?");

/***/ }),

/***/ "./src/math/vec2.ts":
/*!**************************!*\
  !*** ./src/math/vec2.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst vec3_1 = __importDefault(__webpack_require__(/*! ./vec3 */ \"./src/math/vec3.ts\"));\r\nconst constants_1 = __webpack_require__(/*! ./constants */ \"./src/math/constants.ts\");\r\nclass vec2 {\r\n    get x() {\r\n        return this.values[0];\r\n    }\r\n    get y() {\r\n        return this.values[1];\r\n    }\r\n    get xy() {\r\n        return [this.values[0], this.values[1]];\r\n    }\r\n    set x(value) {\r\n        this.values[0] = value;\r\n    }\r\n    set y(value) {\r\n        this.values[1] = value;\r\n    }\r\n    set xy(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n    }\r\n    constructor(values, y) {\r\n        this.values = new Float32Array(2);\r\n        if (values !== undefined) {\r\n            if (typeof values === 'number') {\r\n                this.values[0] = values;\r\n            }\r\n            else if (Array.isArray(values)) {\r\n                this.xy = values;\r\n            }\r\n            if (y !== undefined) {\r\n                this.values[1] = y;\r\n            }\r\n        }\r\n    }\r\n    at(index) {\r\n        return this.values[index];\r\n    }\r\n    reset() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n    }\r\n    copy(dest) {\r\n        if (!dest) {\r\n            dest = new vec2();\r\n        }\r\n        dest.x = this.x;\r\n        dest.y = this.y;\r\n        return dest;\r\n    }\r\n    negate(dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        dest.x = -this.x;\r\n        dest.y = -this.y;\r\n        return dest;\r\n    }\r\n    equals(vector, threshold = constants_1.epsilon) {\r\n        if (Math.abs(this.x - vector.x) > threshold) {\r\n            return false;\r\n        }\r\n        if (Math.abs(this.y - vector.y) > threshold) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.squaredLength());\r\n    }\r\n    squaredLength() {\r\n        const x = this.x;\r\n        const y = this.y;\r\n        return x * x + y * y;\r\n    }\r\n    add(vector) {\r\n        this.x += vector.x;\r\n        this.y += vector.y;\r\n        return this;\r\n    }\r\n    subtract(vector) {\r\n        this.x -= vector.x;\r\n        this.y -= vector.y;\r\n        return this;\r\n    }\r\n    multiply(vector) {\r\n        this.x *= vector.x;\r\n        this.y *= vector.y;\r\n        return this;\r\n    }\r\n    divide(vector) {\r\n        this.x /= vector.x;\r\n        this.y /= vector.y;\r\n        return this;\r\n    }\r\n    scale(value, dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        dest.x *= value;\r\n        dest.y *= value;\r\n        return dest;\r\n    }\r\n    normalize(dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        let length = this.length();\r\n        if (length === 1) {\r\n            return this;\r\n        }\r\n        if (length === 0) {\r\n            dest.x = 0;\r\n            dest.y = 0;\r\n            return dest;\r\n        }\r\n        length = 1.0 / length;\r\n        dest.x *= length;\r\n        dest.y *= length;\r\n        return dest;\r\n    }\r\n    multiplyMat2(matrix, dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        return matrix.multiplyVec2(this, dest);\r\n    }\r\n    multiplyMat3(matrix, dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        return matrix.multiplyVec2(this, dest);\r\n    }\r\n    static cross(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec3_1.default();\r\n        }\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        const x2 = vector2.x;\r\n        const y2 = vector2.y;\r\n        const z = x * y2 - y * x2;\r\n        dest.x = 0;\r\n        dest.y = 0;\r\n        dest.z = z;\r\n        return dest;\r\n    }\r\n    static dot(vector, vector2) {\r\n        return vector.x * vector2.x + vector.y * vector2.y;\r\n    }\r\n    static distance(vector, vector2) {\r\n        return Math.sqrt(this.squaredDistance(vector, vector2));\r\n    }\r\n    static squaredDistance(vector, vector2) {\r\n        const x = vector2.x - vector.x;\r\n        const y = vector2.y - vector.y;\r\n        return x * x + y * y;\r\n    }\r\n    static direction(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec2();\r\n        }\r\n        const x = vector.x - vector2.x;\r\n        const y = vector.y - vector2.y;\r\n        let length = Math.sqrt(x * x + y * y);\r\n        if (length === 0) {\r\n            dest.x = 0;\r\n            dest.y = 0;\r\n            return dest;\r\n        }\r\n        length = 1 / length;\r\n        dest.x = x * length;\r\n        dest.y = y * length;\r\n        return dest;\r\n    }\r\n    static mix(vector, vector2, time, dest) {\r\n        if (!dest) {\r\n            dest = new vec2();\r\n        }\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        const x2 = vector2.x;\r\n        const y2 = vector2.y;\r\n        dest.x = x + time * (x2 - x);\r\n        dest.y = y + time * (y2 - y);\r\n        return dest;\r\n    }\r\n    static sum(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec2();\r\n        }\r\n        dest.x = vector.x + vector2.x;\r\n        dest.y = vector.y + vector2.y;\r\n        return dest;\r\n    }\r\n    static difference(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec2();\r\n        }\r\n        dest.x = vector.x - vector2.x;\r\n        dest.y = vector.y - vector2.y;\r\n        return dest;\r\n    }\r\n    static product(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec2();\r\n        }\r\n        dest.x = vector.x * vector2.x;\r\n        dest.y = vector.y * vector2.y;\r\n        return dest;\r\n    }\r\n    static quotient(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec2();\r\n        }\r\n        dest.x = vector.x / vector2.x;\r\n        dest.y = vector.y / vector2.y;\r\n        return dest;\r\n    }\r\n    toString() {\r\n        return this.x.toFixed(5) + ', ' + this.y.toFixed(5);\r\n    }\r\n}\r\nexports[\"default\"] = vec2;\r\nvec2.zero = new vec2([0, 0]);\r\nvec2.one = new vec2([1, 1]);\r\n\n\n//# sourceURL=webpack://earthquest/./src/math/vec2.ts?");

/***/ }),

/***/ "./src/math/vec3.ts":
/*!**************************!*\
  !*** ./src/math/vec3.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst quat_1 = __importDefault(__webpack_require__(/*! ./quat */ \"./src/math/quat.ts\"));\r\nconst constants_1 = __webpack_require__(/*! ./constants */ \"./src/math/constants.ts\");\r\nclass vec3 {\r\n    get x() {\r\n        return this.values[0];\r\n    }\r\n    get y() {\r\n        return this.values[1];\r\n    }\r\n    get z() {\r\n        return this.values[2];\r\n    }\r\n    get xy() {\r\n        return [this.values[0], this.values[1]];\r\n    }\r\n    get xyz() {\r\n        return [this.values[0], this.values[1], this.values[2]];\r\n    }\r\n    set x(value) {\r\n        this.values[0] = value;\r\n    }\r\n    set y(value) {\r\n        this.values[1] = value;\r\n    }\r\n    set z(value) {\r\n        this.values[2] = value;\r\n    }\r\n    set xy(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n    }\r\n    set xyz(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n        this.values[2] = values[2];\r\n    }\r\n    constructor(values, y, z) {\r\n        this.values = new Float32Array(3);\r\n        if (values !== undefined) {\r\n            if (typeof values === 'number') {\r\n                this.values[0] = values;\r\n            }\r\n            else if (Array.isArray(values)) {\r\n                this.xyz = values;\r\n            }\r\n            if (y !== undefined) {\r\n                this.values[1] = y;\r\n            }\r\n            if (y !== undefined) {\r\n                this.values[2] = z;\r\n            }\r\n        }\r\n        else {\r\n            this.xyz = [0, 0, 0];\r\n        }\r\n    }\r\n    at(index) {\r\n        return this.values[index];\r\n    }\r\n    reset() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n    }\r\n    copy(dest) {\r\n        if (!dest) {\r\n            dest = new vec3();\r\n        }\r\n        dest.x = this.x;\r\n        dest.y = this.y;\r\n        dest.z = this.z;\r\n        return dest;\r\n    }\r\n    negate(dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        dest.x = -this.x;\r\n        dest.y = -this.y;\r\n        dest.z = -this.z;\r\n        return dest;\r\n    }\r\n    equals(vector, threshold = constants_1.epsilon) {\r\n        if (Math.abs(this.x - vector.x) > threshold) {\r\n            return false;\r\n        }\r\n        if (Math.abs(this.y - vector.y) > threshold) {\r\n            return false;\r\n        }\r\n        if (Math.abs(this.z - vector.z) > threshold) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.squaredLength());\r\n    }\r\n    squaredLength() {\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        return x * x + y * y + z * z;\r\n    }\r\n    add(vector) {\r\n        this.x += vector.x;\r\n        this.y += vector.y;\r\n        this.z += vector.z;\r\n        return this;\r\n    }\r\n    subtract(vector) {\r\n        this.x -= vector.x;\r\n        this.y -= vector.y;\r\n        this.z -= vector.z;\r\n        return this;\r\n    }\r\n    multiply(vector) {\r\n        this.x *= vector.x;\r\n        this.y *= vector.y;\r\n        this.z *= vector.z;\r\n        return this;\r\n    }\r\n    divide(vector) {\r\n        this.x /= vector.x;\r\n        this.y /= vector.y;\r\n        this.z /= vector.z;\r\n        return this;\r\n    }\r\n    scale(value, dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        dest.x *= value;\r\n        dest.y *= value;\r\n        dest.z *= value;\r\n        return dest;\r\n    }\r\n    normalize(dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        let length = this.length();\r\n        if (length === 1) {\r\n            return this;\r\n        }\r\n        if (length === 0) {\r\n            dest.x = 0;\r\n            dest.y = 0;\r\n            dest.z = 0;\r\n            return dest;\r\n        }\r\n        length = 1.0 / length;\r\n        dest.x *= length;\r\n        dest.y *= length;\r\n        dest.z *= length;\r\n        return dest;\r\n    }\r\n    multiplyByMat3(matrix, dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        return matrix.multiplyVec3(this, dest);\r\n    }\r\n    multiplyByQuat(quaternion, dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        return quaternion.multiplyVec3(this, dest);\r\n    }\r\n    toQuat(dest) {\r\n        if (!dest) {\r\n            dest = new quat_1.default();\r\n        }\r\n        const c = new vec3();\r\n        const s = new vec3();\r\n        c.x = Math.cos(this.x * 0.5);\r\n        s.x = Math.sin(this.x * 0.5);\r\n        c.y = Math.cos(this.y * 0.5);\r\n        s.y = Math.sin(this.y * 0.5);\r\n        c.z = Math.cos(this.z * 0.5);\r\n        s.z = Math.sin(this.z * 0.5);\r\n        dest.x = s.x * c.y * c.z - c.x * s.y * s.z;\r\n        dest.y = c.x * s.y * c.z + s.x * c.y * s.z;\r\n        dest.z = c.x * c.y * s.z - s.x * s.y * c.z;\r\n        dest.w = c.x * c.y * c.z + s.x * s.y * s.z;\r\n        return dest;\r\n    }\r\n    static cross(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec3();\r\n        }\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        const z = vector.z;\r\n        const x2 = vector2.x;\r\n        const y2 = vector2.y;\r\n        const z2 = vector2.z;\r\n        dest.x = y * z2 - z * y2;\r\n        dest.y = z * x2 - x * z2;\r\n        dest.z = x * y2 - y * x2;\r\n        return dest;\r\n    }\r\n    static dot(vector, vector2) {\r\n        const x = vector.x;\r\n        const y = vector.y;\r\n        const z = vector.z;\r\n        const x2 = vector2.x;\r\n        const y2 = vector2.y;\r\n        const z2 = vector2.z;\r\n        return x * x2 + y * y2 + z * z2;\r\n    }\r\n    static distance(vector, vector2) {\r\n        const x = vector2.x - vector.x;\r\n        const y = vector2.y - vector.y;\r\n        const z = vector2.z - vector.z;\r\n        return Math.sqrt(this.squaredDistance(vector, vector2));\r\n    }\r\n    static squaredDistance(vector, vector2) {\r\n        const x = vector2.x - vector.x;\r\n        const y = vector2.y - vector.y;\r\n        const z = vector2.z - vector.z;\r\n        return x * x + y * y + z * z;\r\n    }\r\n    static direction(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec3();\r\n        }\r\n        const x = vector.x - vector2.x;\r\n        const y = vector.y - vector2.y;\r\n        const z = vector.z - vector2.z;\r\n        let length = Math.sqrt(x * x + y * y + z * z);\r\n        if (length === 0) {\r\n            dest.x = 0;\r\n            dest.y = 0;\r\n            dest.z = 0;\r\n            return dest;\r\n        }\r\n        length = 1 / length;\r\n        dest.x = x * length;\r\n        dest.y = y * length;\r\n        dest.z = z * length;\r\n        return dest;\r\n    }\r\n    static mix(vector, vector2, time, dest) {\r\n        if (!dest) {\r\n            dest = new vec3();\r\n        }\r\n        dest.x = vector.x + time * (vector2.x - vector.x);\r\n        dest.y = vector.y + time * (vector2.y - vector.y);\r\n        dest.z = vector.z + time * (vector2.z - vector.z);\r\n        return dest;\r\n    }\r\n    static sum(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec3();\r\n        }\r\n        dest.x = vector.x + vector2.x;\r\n        dest.y = vector.y + vector2.y;\r\n        dest.z = vector.z + vector2.z;\r\n        return dest;\r\n    }\r\n    static difference(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec3();\r\n        }\r\n        dest.x = vector.x - vector2.x;\r\n        dest.y = vector.y - vector2.y;\r\n        dest.z = vector.z - vector2.z;\r\n        return dest;\r\n    }\r\n    static product(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec3();\r\n        }\r\n        dest.x = vector.x * vector2.x;\r\n        dest.y = vector.y * vector2.y;\r\n        dest.z = vector.z * vector2.z;\r\n        return dest;\r\n    }\r\n    static quotient(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec3();\r\n        }\r\n        dest.x = vector.x / vector2.x;\r\n        dest.y = vector.y / vector2.y;\r\n        dest.z = vector.z / vector2.z;\r\n        return dest;\r\n    }\r\n    toString() {\r\n        return this.x.toFixed(5) + ', ' + this.y.toFixed(5) + ', ' + this.z.toFixed(5);\r\n    }\r\n}\r\nexports[\"default\"] = vec3;\r\nvec3.zero = new vec3([0, 0, 0]);\r\nvec3.one = new vec3([1, 1, 1]);\r\nvec3.up = new vec3([0, 1, 0]);\r\nvec3.right = new vec3([1, 0, 0]);\r\nvec3.forward = new vec3([0, 0, 1]);\r\n\n\n//# sourceURL=webpack://earthquest/./src/math/vec3.ts?");

/***/ }),

/***/ "./src/math/vec4.ts":
/*!**************************!*\
  !*** ./src/math/vec4.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst constants_1 = __webpack_require__(/*! ./constants */ \"./src/math/constants.ts\");\r\nclass vec4 {\r\n    get x() {\r\n        return this.values[0];\r\n    }\r\n    get y() {\r\n        return this.values[1];\r\n    }\r\n    get z() {\r\n        return this.values[2];\r\n    }\r\n    get w() {\r\n        return this.values[3];\r\n    }\r\n    get xy() {\r\n        return [this.values[0], this.values[1]];\r\n    }\r\n    get xyz() {\r\n        return [this.values[0], this.values[1], this.values[2]];\r\n    }\r\n    get xyzw() {\r\n        return [this.values[0], this.values[1], this.values[2], this.values[3]];\r\n    }\r\n    set x(value) {\r\n        this.values[0] = value;\r\n    }\r\n    set y(value) {\r\n        this.values[1] = value;\r\n    }\r\n    set z(value) {\r\n        this.values[2] = value;\r\n    }\r\n    set w(value) {\r\n        this.values[3] = value;\r\n    }\r\n    set xy(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n    }\r\n    set xyz(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n        this.values[2] = values[2];\r\n    }\r\n    set xyzw(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n        this.values[2] = values[2];\r\n        this.values[3] = values[3];\r\n    }\r\n    get r() {\r\n        return this.values[0];\r\n    }\r\n    get g() {\r\n        return this.values[1];\r\n    }\r\n    get b() {\r\n        return this.values[2];\r\n    }\r\n    get a() {\r\n        return this.values[3];\r\n    }\r\n    get rg() {\r\n        return [this.values[0], this.values[1]];\r\n    }\r\n    get rgb() {\r\n        return [this.values[0], this.values[1], this.values[2]];\r\n    }\r\n    get rgba() {\r\n        return [this.values[0], this.values[1], this.values[2], this.values[3]];\r\n    }\r\n    set r(value) {\r\n        this.values[0] = value;\r\n    }\r\n    set g(value) {\r\n        this.values[1] = value;\r\n    }\r\n    set b(value) {\r\n        this.values[2] = value;\r\n    }\r\n    set a(value) {\r\n        this.values[3] = value;\r\n    }\r\n    set rg(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n    }\r\n    set rgb(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n        this.values[2] = values[2];\r\n    }\r\n    set rgba(values) {\r\n        this.values[0] = values[0];\r\n        this.values[1] = values[1];\r\n        this.values[2] = values[2];\r\n        this.values[3] = values[3];\r\n    }\r\n    constructor(values) {\r\n        this.values = new Float32Array(4);\r\n        if (values !== undefined) {\r\n            this.xyzw = values;\r\n        }\r\n    }\r\n    at(index) {\r\n        return this.values[index];\r\n    }\r\n    reset() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n        this.w = 0;\r\n    }\r\n    copy(dest) {\r\n        if (!dest) {\r\n            dest = new vec4();\r\n        }\r\n        dest.x = this.x;\r\n        dest.y = this.y;\r\n        dest.z = this.z;\r\n        dest.w = this.w;\r\n        return dest;\r\n    }\r\n    negate(dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        dest.x = -this.x;\r\n        dest.y = -this.y;\r\n        dest.z = -this.z;\r\n        dest.w = -this.w;\r\n        return dest;\r\n    }\r\n    equals(vector, threshold = constants_1.epsilon) {\r\n        if (Math.abs(this.x - vector.x) > threshold) {\r\n            return false;\r\n        }\r\n        if (Math.abs(this.y - vector.y) > threshold) {\r\n            return false;\r\n        }\r\n        if (Math.abs(this.z - vector.z) > threshold) {\r\n            return false;\r\n        }\r\n        if (Math.abs(this.w - vector.w) > threshold) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.squaredLength());\r\n    }\r\n    squaredLength() {\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        const w = this.w;\r\n        return x * x + y * y + z * z + w * w;\r\n    }\r\n    add(vector) {\r\n        this.x += vector.x;\r\n        this.y += vector.y;\r\n        this.z += vector.z;\r\n        this.w += vector.w;\r\n        return this;\r\n    }\r\n    subtract(vector) {\r\n        this.x -= vector.x;\r\n        this.y -= vector.y;\r\n        this.z -= vector.z;\r\n        this.w -= vector.w;\r\n        return this;\r\n    }\r\n    multiply(vector) {\r\n        this.x *= vector.x;\r\n        this.y *= vector.y;\r\n        this.z *= vector.z;\r\n        this.w *= vector.w;\r\n        return this;\r\n    }\r\n    divide(vector) {\r\n        this.x /= vector.x;\r\n        this.y /= vector.y;\r\n        this.z /= vector.z;\r\n        this.w /= vector.w;\r\n        return this;\r\n    }\r\n    scale(value, dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        dest.x *= value;\r\n        dest.y *= value;\r\n        dest.z *= value;\r\n        dest.w *= value;\r\n        return dest;\r\n    }\r\n    normalize(dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        let length = this.length();\r\n        if (length === 1) {\r\n            return this;\r\n        }\r\n        if (length === 0) {\r\n            dest.x *= 0;\r\n            dest.y *= 0;\r\n            dest.z *= 0;\r\n            dest.w *= 0;\r\n            return dest;\r\n        }\r\n        length = 1.0 / length;\r\n        dest.x *= length;\r\n        dest.y *= length;\r\n        dest.z *= length;\r\n        dest.w *= length;\r\n        return dest;\r\n    }\r\n    multiplyMat4(matrix, dest) {\r\n        if (!dest) {\r\n            dest = this;\r\n        }\r\n        return matrix.multiplyVec4(this, dest);\r\n    }\r\n    static mix(vector, vector2, time, dest) {\r\n        if (!dest) {\r\n            dest = new vec4();\r\n        }\r\n        dest.x = vector.x + time * (vector2.x - vector.x);\r\n        dest.y = vector.y + time * (vector2.y - vector.y);\r\n        dest.z = vector.z + time * (vector2.z - vector.z);\r\n        dest.w = vector.w + time * (vector2.w - vector.w);\r\n        return dest;\r\n    }\r\n    static sum(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec4();\r\n        }\r\n        dest.x = vector.x + vector2.x;\r\n        dest.y = vector.y + vector2.y;\r\n        dest.z = vector.z + vector2.z;\r\n        dest.w = vector.w + vector2.w;\r\n        return dest;\r\n    }\r\n    static difference(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec4();\r\n        }\r\n        dest.x = vector.x - vector2.x;\r\n        dest.y = vector.y - vector2.y;\r\n        dest.z = vector.z - vector2.z;\r\n        dest.w = vector.w - vector2.w;\r\n        return dest;\r\n    }\r\n    static product(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec4();\r\n        }\r\n        dest.x = vector.x * vector2.x;\r\n        dest.y = vector.y * vector2.y;\r\n        dest.z = vector.z * vector2.z;\r\n        dest.w = vector.w * vector2.w;\r\n        return dest;\r\n    }\r\n    static quotient(vector, vector2, dest) {\r\n        if (!dest) {\r\n            dest = new vec4();\r\n        }\r\n        dest.x = vector.x / vector2.x;\r\n        dest.y = vector.y / vector2.y;\r\n        dest.z = vector.z / vector2.z;\r\n        dest.w = vector.w / vector2.w;\r\n        return dest;\r\n    }\r\n    toString() {\r\n        return (this.x.toFixed(5) +\r\n            ', ' +\r\n            this.y.toFixed(5) +\r\n            ', ' +\r\n            this.z.toFixed(5) +\r\n            ', ' +\r\n            this.a.toFixed(5));\r\n    }\r\n}\r\nexports[\"default\"] = vec4;\r\nvec4.zero = new vec4([0, 0, 0, 1]);\r\nvec4.one = new vec4([1, 1, 1, 1]);\r\n\n\n//# sourceURL=webpack://earthquest/./src/math/vec4.ts?");

/***/ }),

/***/ "./src/shaders/SpritePerspectiveShader.ts":
/*!************************************************!*\
  !*** ./src/shaders/SpritePerspectiveShader.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.SpritePerspectiveShader = void 0;\r\nconst ShaderController_1 = __webpack_require__(/*! ../graphics/ShaderController */ \"./src/graphics/ShaderController.ts\");\r\n//\r\n// Vertex Shader program\r\n//\r\nconst vsSource = `\nattribute vec3 aPos;\nattribute vec2 aTex;\nuniform mat4 uProj;\nvarying mediump vec2 vTex;\nvarying mediump vec3 depth;\n\nvoid main() {\n    vTex = aTex;\n    vec4 pos = uProj * vec4(aPos.xyz, 1.0);\n    gl_Position =  pos;\n    depth = vec3(pos.z *.1);\n}\n`;\r\n//\r\n// Fragment shader program\r\n//\r\nconst fsSource = `\nvarying mediump vec2 vTex;\nvarying mediump  vec3 depth;\nuniform sampler2D uSampler;\n\nvoid main() {\n  mediump vec4 color = texture2D(uSampler, vTex);\n    if(color.a < .001) {\n      discard;\n    } \n\n    // uncomment to show depth\n    //gl_FragColor = vec4(depth.xyz, 1.0);\n    gl_FragColor = color;\n  \n}\n`;\r\n/**\r\n * Shader for sprites\r\n */\r\nclass SpritePerspectiveShader {\r\n    constructor(gl, shaderId) {\r\n        this.gl = gl;\r\n        this._shader = new ShaderController_1.ShaderController(this.gl, shaderId);\r\n        this._shader.initShaderProgram(vsSource, fsSource);\r\n        // set the info\r\n        this._aPos = this._shader.getAttribute('aPos');\r\n        this._aTex = this._shader.getAttribute('aTex');\r\n        this._uSampler = this._shader.getUniform('uSampler');\r\n        this._uProj = this._shader.getUniform('uProj');\r\n    }\r\n    setProj(proj) {\r\n        this._shader.setMat4(this._uProj, proj);\r\n    }\r\n    setSpriteSheet(texture) {\r\n        this._texture = texture;\r\n    }\r\n    enable() {\r\n        this._shader.enable();\r\n        if (!this._texture) {\r\n            console.warn('texture is null. Call setSpriteSheet()');\r\n        }\r\n        else {\r\n            // Bind the texture to texture unit 0\r\n            this._texture.enable(this._uSampler);\r\n        }\r\n    }\r\n}\r\nexports.SpritePerspectiveShader = SpritePerspectiveShader;\r\n\n\n//# sourceURL=webpack://earthquest/./src/shaders/SpritePerspectiveShader.ts?");

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__("./src/index.ts"));
/******/ }
]);